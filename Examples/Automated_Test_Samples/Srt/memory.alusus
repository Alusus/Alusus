import "common.alusus";

def Main: module
{
  def start: function () => Void
  {
    def buf: ptr[array[Int]];
    buf = Srt.alloc(Int~size * 10)~cast[ptr[array[Int]]];

    def i: Int;
    for i = 0, i < 10, ++i buf~cnt(i) = i * i;

    for i = 0, i < 10, ++i {
      Srt.print("Element %d: %d\n", i, buf~cnt(i));
    };

    Srt.free(buf);
  };
};

run Main.start;
