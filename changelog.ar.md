<div dir=rtl>

# سجل تغييرات الأسُس

## الإصدار 0.5.0 (2019-05-19م \ 1440-09-14هـ)

### الإضافات:

  * تمكين التنفيذ المباشر للشفرة التي في المجال الرئيسي خارج الوحدات والدالات.
  * إزالة الأمر `نفذ` الذي لم يعد له حاجة.
  * الاستعاضة عن الأمر `dump_llvm_ir` بدالة.
  * تمكين الأمر `استخدم` في المجال الرئيسي.
  * تمكين تعيين القيم أثناء التعريف.
  * إضافة مدير حزم.
  * إضافة مكتبة لعمليات الشبكات.
  * إضافة مكتبة لفتح الملفات المضغوطة.
  * إضافة دالات للتعامل مع التعابير النمطبية.
  * تغيير الكلمة المفتاحية `حزمة` إلى `وحدة`.
  * إضافة المتغير العمومي `الـعملية.اللغة` الحاوي على رمز لغة النظام الحالية.
  * تمكين المؤثر % على الأرقام العائمة.
  * إضافة أرقام الأسطر في النمط التفاعلي.
  * إصدار إشعار خطأ عند فقدان عبارة `أرجع`.
  * إصدار إشعار خطأ للشفرات المنقطعة التي لاي مكن الوصول إليها.
  * قصر بناء الشفرة التنفيذية على العناصر المطلوبة لتنفيذ البرنامج بدل بناء كل
    شيء.
  * تحسين التمثيل التلقائي لأصناف المؤشرات على مؤشرات.

### الإصلاحات:

  * إصلاح مشكلة في تحسس لغة النظام الحالية.
  * إصلاح مشكلة في مخطوط بناء الأسس.

### تعديلات داخلية:

  * استخدام الإصدار 7.0.1 من LLVM بدل الإصدار القديم 3.3.
  * استخدام التوريث الاعتيادي في أصناف المترجم بدل التوريث الافتراضي.
  * إضافة الصنف RootScopeHandler لتمكين المكتبات من تعديل التعامل مع العناصر
    المضافة إلى المجال الرئيسي بسهولة.

هذا بالإضافة للعديد من الإصلاحات الصغيرة والإضافات على مكتبة التنفيذ المعيارية.


## الإصدار 0.4.1 (2019-03-13م \ 1440-07-06هـ)
<details>

### الإضافات:

  * تمرير معطيات البرنامج إلى دالة البداية إن كان تعريف تلك الدالة يقبل
    المعطيات.
  * إذا أرجعت دالة البداية قيمة غير الصفر فإن تلك القيمة تستخدم كقيمة
    الخروج من القلب.
</details>


## الإصدار 0.4.0 (2019-02-25م \ 1440-06-20هـ)
<details>

### الإضافات:

  * إضافة خاصية الماكروهات التي تتيح للمبرمج وضع مجموعة من الأوامر في ماكرو
    لتسهيل تكرارها في أماكن متعددة. هذه الخاصية مشابهة لخاصية الماكرو في لغة
    السي من ناحية المبدأ لكنها تختلف اختلافاً جذرياً في التصميم، حيث أن الماكرو
    في لغة السي يعالَج نصياً في مرحلة تسبق الإعراب بينما ماكرو الأسُس يعمل كجزء
    من مرحة الإعراب نفسها وهذا يؤدي إلى الفروقات التالية:
    - في لغة الأسُس الماكرو تأثيره محدود ضمن مجال تعريفه بعكس الماكر في لغة السي
      حيث يكون غير محدود بأي مجال. بمعنى آخر، في لغة الأسُس إذا عرفت ماكرو داخل
      مجال معين وحاولت استخدامه داخل مجال آخر فسيمنعك المترجم من ذلك ما لم تذكر
      المسار الكامل المؤدي لذلك الماكرو.
    - يمكن في لغة الأسُس تعريف عدة ماكروهات بنفس الاسم طالما أنها معرفة ضمن
      مجالات مختلفة، وهذا غير ممكن في لغة السي.
    - في لغة الأسُس الأخطاء الإعرابية داخل الماكرو يتم استشعارها مباشرة بعكس لغة
      السي حيث لا تُستشعر الأخطاء الإعرابية إلا بعد انتهاء معالجة الماكرو والبدء
      بمرحلة الإعراب.
    - في لغة الأسُس لا يمكن تعريف ماكرو يحتوي متنه على أجزاء غير مكتملة من
      القواعد بعكس لغة السي التي تتيح ذلك. مثلاً، في لغة السي يمكن تعريف ماكرو
      يحتوي على جزء غير مكتمل من القواعد ويقوم المستخدم يتجميع ماكروهات متعددة
      للحصول على برنامج صحيح قواعدياً وهذا الأمر غير ممكن في لغة الأسس التي تمنع
      أن يكون متن أي ماكرو غير مكتمل قواعدياً.
  * إضافة الأمر `استخدم` (use) الذي يُخبر المترجم بالبحث عن الرموز تلقائياً داخل
    مجالات معينة بدل اضطرار المبرمج لكتابة المسار الكامل عند استخدام العناصر.
    على سبيل المثال، بدل أن يكتب المستخدم `مـتم.طـرفية.اطبع` بشكل متكرر يمكنه
    استخدام الأمر `استخدم مـتم.طـرفية` وبعدها الاكتفاء بكتابة `اطبع`.
  * إضافة الدعم للثوابت. أي يمكن للمبرمج ان يعطي اسماً لقيمة ثابتة (رقم أو سلسلة
    محارف) ثم استخدام ذلك الإسم لاحقاً بدل كتابة القيمة الثابتة. مثال:
    `عرف النسبة_الثابتة: 3.141592`.
  * يمكن الآن تعريف دالة دون وضع أقواس فارغة إذا كانت الدالة لا تستقبل ولا ترجع
    أي معطيات.
  * تعريف مؤشر دون تحديد صنف محتوياته يجعله تلقائياً من صنف `فراغ` (void).
  * تمكين تعريف المتغيرات والدالات العمومية داخل أصناف المستخدم. هذه تقابل تعريف
    الدالات والمتغيرات داخل الأصناف باستخدام المبدل static في لغة السي++.
  * المؤشرات على أصناف المستخدم تمثَّل تلقائيا كمؤشرات على صنف أول عنصر من عناصر
    صنف المستخدم ذاك. أي، إذا كان هناك صنف مستخدم أول عنصر منه عدد صحيح، فإن
    المؤشر على صنف المستخدم ذاك يعامل تلقائياً كمؤشر على عدد صحيح دون الحاجة
    لاستخدام الأمر `~مثل`.
  * إضافة مكتبة تجريبية لواجهة المستخدم مبنية على أدوات جتك (GTK). هذه المكتبة
    تجريبية فقط وتشمل فقط جزءًا بسيطاً من مكتبة جتك، ولكن بإمكان المستخدم إضافة
    ما ينقصه بسهولة. المكتبة توفر دعماً للنوافذ والنوافذ الحوارية والأزرار
    والقوائم وقوائم الأوامر وحقل الإدخال وشريط الحاشية بالإضافة إلى الصور. إذا
    احتاج المستخدم إلى عناصر غير متوفرة فكل ما يحتاجه إضافة تعريف للدالات
    المعنية ويمكن مراجعة مكتبة الأسس الخاصة بجتك لمعرفة كيفية فعلها.

### الإصلاحات:

  * إصلاح مشكلة في إعراب القوائم ضمن التراكيب.
  * إصلاح مشكلة في إنشاء الشفرة التنفيذية للدالات.
  * يمكن الآن تعريف متغيرات عمومية من الدالات أو أصناف المستخدم.
  * إصلاح مشكلة في تحديد لغة العرض للنظام.
  * إصلاح مشكلة في إعراب أصناف معطيات الدالات عند غياب أسماء تلك المعطيات.
  * بضعة إصلاحات داخلية أخرى في المترجم ومكتبة البناء المعيارية.
</details>


## الإصدار 0.3.0 (2018-09-26م \ 1440-01-16هـ)
<details>

### الإضافات:

  * تحسين الدعم للأصناف الأساسية لتدعم التالي:
    - الأعداد الصحيحة بـ8 و16 و32 و64 بتة.
    - الأعداد الطبيعية (الموجبة فقط) بـ8 و16 و32 و64 بتة.
    - الأعداد بالفاصلة العائمة بـ32 و64 بتة.
    - القيمة الثنائية.
  * الأصناف الأساسية الآن تعمل كالقوالب التي تستقبل عدد البتات كمدخل مثل
    `صـحيح[16]` أو `عـائم[64]`. يعتمد حجم افتراضي للصنف في حال عدم إعطاء حجم
    بشكل صريح.
  * إضافة دعم لمؤشرات الدالّات.
  * تمكين المقارنات على المؤشرات بالإضافة لتمثيل المؤشرات كأعداد صحيحة والعكس.
  * دعم المقطع `وإلا` في الجمل الشرطية.
  * دعم الأمر `اقطع` في الحلقات.
  * دعم الأمر `اكمل` في الحلقات.
  * إضافة الدعم للمبدّلات.
  * إضافة دعم حقيقي لمجالات التسمية (namespace).
  * تمكين دمج التعريفات عبر المبدّل `@دمج` (`@merge`). سيمكن هذا الدمج من إضافة
    تعريفات جديدة لحزمة أو صنف مسبق التعريف.
  * صنف الدالة يمكن إهماله في تعريف الدالات إذا كانت لا تقبل مدخلات ولا ترجع شيئاً.
  * إضافة مكتبة تنفيذية تحتوي على الحزم التالية:
    - طـرفية: تحتوي دالات التعامل مع المستخدم في الطرفية.
    - نـظام: تحتوي دالات متنوعة للتعامل مع النظام.
    - ذاكـرة: تحتوي دالات حجز الذاكرة والتعامل معها.
    - مـحارف: تحتوي دالات التعامل مع المحارف.
    - مـلف: تحتوي دالات التعامل مع الملفات.
    - ريـاضيات: تحتوي دالات رياضية متنوعة.
  * إزالة الأمر `link` والاستعاضة عنه بمبدل @تصدير على تعريف دالة اعتيادي.
  * تعريف اصناف المستخدم يتم الآن باستخدام الأمر `صنف` (type) بدل struct.
  * الإشارة إلى عناصر الدالات يتم الآن باستخدام الأقواس المنحنية بدل الأقواس
    المربعة.
  * إعادة تسمية `مكتبة البناء المعيارية` (SCG) إلى SPP أو
    `مكتبة نمط البرمجة المعياري`.
  * إضافة الأمر `أدرج_ش_ب_م` (dump_ast) لطباعة شجرة البنية المجردة لعنصر
    معين (AST).
  * إعادة تسمية الأمر `build`، والذي يدرج فقط التمثيل الوسطي، إلى
    `أدرج_ت_و` (dump_llvm_ir).
  * الأمر `نفذ` يستقبل الآن إشارة إلى دالة البداية، والتي يمكن الآن تسميتها بأي
    اسم.
  * دعم اللغة العربية في إشعارات البناء.
  * تحسين التمثيل الضمني (implicit casting).
  * تحسينات متنوعة لبناء التراكيب.
  * إضافة وضع تفاعلي (interactive mode) ولكنه مبسط ينفع العاملين على المترجم أو
    مكتبات البناء أكثر من المستخدم النهائي.

### الإصلاحات:

  * تحسينات عديدة على إشعارات البناء.
  * إصلاح مشكلة في الإبلاغ عن الموقع الصحيح لإشعار البناء في بعض الحالات.
  * إصلاح مشكلة في بناء الدالات المسماة بأحرف غير انجليزية.
  * تحسين الاختبارات الآلية وتبسيطها بالاعتماد فقط على اختبارات e2e.
  * إصلاح العديد من العلل.

### تعديلات داخلية:

  * إعادة بناء مكتبة البناء المعيارية بتصميم جديد أبسط بكثير وأكثر قابلية
    للتطوير والصيانة.
  * تعديل كبير في شفرة القلب يبسطها ويزيل الأجزاء غير الضرورية.
  * فصل الجزء المتعلق ببيئة التنفيذ (LLVM) في مجال منفصل عن بقية أجزاء مكتبة
    نمط البرمجة المعياري ما يسهل مستقبلاً دعم بيئات غير LLVM.
  * إضافة خاصية قوالب الوسائط (template interfaces) للشفرة المصدرية.
  * إضافة خاصية الوسائط المتحركة (dynamic interfaces) للشفرة المصدرية.
  * يمكن الآن تعديل مكتبة نمط البرمجة المعياري ديناميكياً أثناء التشغيل.
  * إزالة الاعتماد على Boost و Catch.
  * استخدام C++17 بدل الإصدار الأقدم لبناء الأسُس.
  * تعديلات في أسلوب التسميات.
  * تعطيل خاصية RTTI التي لم نعد نحتاجها.
</details>


## الإصدار 0.2.1 (2015-11-28م \ 1437-02-16هـ)
<details>

### الإضافات:

  * دعم التمثيل بين أنواع المؤشرات المختلفة.
  * دعم تمثيل المؤشر بعدد صحيح.
  * دعم المؤثر ~حجم (~size) للحصول على حجم متغير أو تركيب في الذاكرة.
  * إضافة فئة المحرف (char).
  * إعادة هيكلة نظام البيانات في القلب لتبسيطها وجعلها في ذات الوقت أكثر شمولاً.
    هذا التعديل ضروري لمكتبة البناء المعيارية (SCG) لتمكينها من استخدام نظام
    البيانات ذاته لخزن بيانات الشفرة المُترجمة. هذا التغيير هو مقدمة لبدء العمل
    على المجالات وغيرها من خواص البرمجة كائنية المنحى.
  * تحسين أداء المُعرب.

### الإصلاحات:

  * تعديل أسلوب التسميات في الشفرة المصدرية لمكتبة البناء المعيارية (SCG).
  * إصلاحات متنوعة أخرى.
</details>


## الإصدار 0.2.0 (2015-04-27م \ 1436-07-08هـ)
<details>

### الإضافات:

  * دعم اكتشاف الأصناف تلقائياً أثناء تعريف المتغيرات. مثلاً، الجملة التالية
    تحدد نوع المتغير م تلقائياً على أنه عدد صحيح:
    عرّف م = 5؛
  * دعم تمثيل الأصناف ضمنياً (implicit casting) وصراحة (explicit casting).
  * دعم المؤثر الأحادي - والمؤثرين السبقيين ++ و --.
  * دعم استخدام الدالّات في موضع سابق لتعريفها في الشفرة المصدرية.
  * تمكين الربط بالمكتبات الخارجية.
  * تعديل الأمر "اشمل" (import) ليبحث في مسارات متعددة أثناء البحث عن الملف
    المقصود بدل الاكتفاء بالبحث في المسار الحالي.
  * تبديل بعض المؤثرات بأخرى أكثر شيوعاً. مؤثر التعيين الآن = بدلاً من := ومؤثر
    المقارنة الآن == بدل = ومؤثر النفي الآن ! بدل ^.
  * دعم صيغة UTF8 في المرمّز.
  * إضافة الأمر "لقب" (alias) لتمكين ترجمة المكتبات والشفرة المصدرية.
  * دعم اللغة العربية. بإمكانك الآن كتابة شفرتك المصدرية باللغة العربية.
  * تحسين إشعارات البناء:
    - تجاوز الشفرة ما بين الأقواس أثناء البحث عن نهاية الجملة بعد حدوث الخطأ.
    - الإبلاغ عن موقع الإشعار في الشفرة المصدرية. الإشعارات الآن تحتوي على اسم
      الملف ورقم السطر والعمود للشفرة المبلّغ عنها.
    - الإبلاغ عن المزيد من الأخطاء قبل توقف الترجمة.
  * الإعفاء عن الحاجة لتعديل المتغير البيئي LD_LIBRARY_PATH بعد التنصيب.
  * تعديلات داخلية:
    - مكتبة SCG تستخدم الآن تعريفات القلب للإشعارات الاستثنائية بدل تعريفاتها
      الخاصة.
    - تبسيط الفئات في المجال Core::Data لتحسين تصميمها وإزالة التعقيدات غير
      الضرورية.
    - تبسيط المجال Core بتقليل عدد المجالات الداخلية.
    - تحوير المرمّز ليستخدم الفئات المعرّفة في Core::Data بدل الفئات الخاصة به.
    - تحسين تصميم نظام البحث المعلوماتي (data references subsystem) بجعلها
      أشمل وأكثر قابلية للتوسيع.
    - إزالة الفئة ParsedDataBrowser واستخدام نظام البحث المعلوماتي بدلاً منها.

### الإصلاحات:

  * اصلاح الخطأ في التعامل مع عدة مؤثرات ثنائية في التركيب الواحد.
  * إصلاح بعض التسريبات في الذاكرة.
  * إصلاحات متنوعة أخرى.
</details>
</div>
