import "common.alusus";

def HelloWorld : module {
  def openTestFile : function() => ptr[Int] {
    return fopen("/tmp/AlususEndToEndTest.txt", "w+");
  };

  def main : function() => Int {
    def f : ptr[Int];
    f := openTestFile();
    writeToFile(f, "Hello World!\n");
    closeFile(f);
    return 0;
  };
};

run HelloWorld;
