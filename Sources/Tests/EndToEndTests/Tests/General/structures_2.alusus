import "common.alusus";

def Structures2 : module {
  def Point : struct
  {
    def x : ptr[Int];
    def y : ptr[Int];
  };

  def main : function()
  {
    def x : Int;
    def y : Int;
    x := 10;
    y := 5;
    def p : Point;
    p.x := x~ptr;
    p.y := y~ptr;
    printf("x = %d, y = %d\n", p.x~cnt, p.y~cnt);
    p.x~cnt := 6;
    p.y~cnt := 3;
    printf("x = %d, y = %d\n", x, y);
  }
};

run Structures2;
