import "libalusus_spp.so";

def Main: module
{
  def printf: @expname[printf] function (fmt: ptr[Int[8]], args: ...any)=>Int[64];

  def print: function (str: ptr[Int[8]]) => Void
  {
    printf("%s\n", str);
  };

  def main: function () => Void
  {
    testIf(0i1);
    testIf(1i1);
  };

  def testIf: function (i: Int[1]) => Void
  {
    if i print("if-statement/no-else");

    if i { print("if-block/no-else") };

    if i print("if-statement/else-statement")
    else print("else-statement");

    if i { print("if-block/else-statement") }
    else print("else-statement");

    if i print("if-statement/else-block")
    else { print("else-block") };

    if i { print("if-block/else-block") }
    else { print("else-block") };
  };
};

build Main;
