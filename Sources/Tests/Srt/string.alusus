import "srt.alusus";

def Main: module
{
  def start: function () => Void
  {
    // Search
    Srt.Console.print("findChar '-': %s\n", Srt.String.findChar("123 - 456 - 789", '-'));
    Srt.Console.print("findChar '-', 4: %d\n", Srt.String.findChar("123 - 456 - 789", '-', 4)~cast[Int[64]] != 0);
    Srt.Console.print("findChar '-', 5: %d\n", Srt.String.findChar("123 - 456 - 789", '-', 5)~cast[Int[64]] != 0);
    Srt.Console.print("findLastChar '-': %s\n", Srt.String.findLastChar("123 - 456 - 789", '-'));
    Srt.Console.print("findString \"124\": %s\n", Srt.String.findString("123 - 124 - 125", "124"));

    // Compare
    Srt.Console.print("compare \"123\" to \"123\": %d\n", Srt.String.compare("123", "123"));
    Srt.Console.print("compare \"123\" to \"1234\": %d\n", Srt.String.compare("123", "1234"));
    Srt.Console.print("compare 3 \"123\" to \"1234\": %d\n", Srt.String.compare("123", "1234", 3));

    // Copy
    def buf: array[Char, 100];
    Srt.String.copy(buf~ptr, "HELLO!");
    Srt.Console.print("copy: %s\n", buf~ptr);
    Srt.String.copy(buf~ptr, "hello world!", 6);
    Srt.Console.print("copy 2: %s\n", buf~ptr);

    // Concat
    Srt.String.concat(buf~ptr, "world");
    Srt.Console.print("concat: %s\n", buf~ptr);
    Srt.String.concat(buf~ptr, "!!!!!", 2);
    Srt.Console.print("concat 2: %s\n", buf~ptr);

    // Lenght
    Srt.Console.print("getLength: %d\n", Srt.String.getLength(buf~ptr));
  };
};

run Main.start;
