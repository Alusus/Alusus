 اشمل "مـتم/طـرفية.أسس"؛
 اشمل "مـتم/ذاكـرة.أسس"؛

عرف رئـيسي: وحدة
{
  عرف ابدأ: دالة ()
  {
    عرف صوان: مؤشر[صـحيح]؛
    عرف س: صـحيح؛

    // اختبر "احجز".
    مـتم.طـرفية.اطبع("اختبار `احجز`:\ج")؛
    صوان = مـتم.ذاكـرة.احجز(صـحيح~حجم * 10)~مثل[مؤشر[صـحيح]]؛
    لكل س = 0، س < 10، ++س صوان~مثل[مؤشر[مصفوفة[صـحيح]]]~محتوى(س) = س * 2؛
    لكل س = 0، س < 10، ++س {
      مـتم.طـرفية.اطبع("العنصر %d: %d\ج"، س، صوان~مثل[مؤشر[مصفوفة[صـحيح]]]~محتوى(س))؛
    }؛

    // اختبر `أعد_الحجز`.
    مـتم.طـرفية.اطبع("\جاختبار `أعد_الحجز:\ج")؛
    صوان = مـتم.ذاكـرة.أعد_الحجز(صوان، صـحيح~حجم * 20)~مثل[مؤشر[صـحيح]]؛
    لكل س = 0، س < 20، ++س صوان~مثل[مؤشر[مصفوفة[صـحيح]]]~محتوى(س) = س * 2؛
    لكل س = 0، س < 20، ++س {
      مـتم.طـرفية.اطبع("العنصر %d: %d\ج"، س، صوان~مثل[مؤشر[مصفوفة[صـحيح]]]~محتوى(س))؛
    }؛

    مـتم.ذاكـرة.حرر(صوان)؛

    // اختبر `احجز_مرصوف`.
    مـتم.طـرفية.اطبع("\جاختبار `احجز_مرصوف`:\ج")؛
    صوان = مـتم.ذاكـرة.احجز_مرصوف(صـحيح~حجم، صـحيح~حجم * 10)~مثل[مؤشر[صـحيح]]؛
    لكل س = 0، س < 10، ++س صوان~مثل[مؤشر[مصفوفة[صـحيح]]]~محتوى(س) = س * 2؛
    لكل س = 0، س < 10، ++س {
      مـتم.طـرفية.اطبع("العنصر %d: %d\ج"، س، صوان~مثل[مؤشر[مصفوفة[صـحيح]]]~محتوى(س))؛
    }؛
    مـتم.ذاكـرة.حرر(صوان)؛

    // اختبر `اضبط` و `انسخ` و `قارن`.
    مـتم.طـرفية.اطبع("\جاختبار `اضبط` و `انسخ` و `قارن`:\ج")؛
    صوان = مـتم.ذاكـرة.احجز(صـحيح~حجم * 10)~مثل[مؤشر[صـحيح]]؛
    لكل س = 0، س < 10، ++س صوان~مثل[مؤشر[مصفوفة[صـحيح]]]~محتوى(س) = س * 2؛
    عرف صوان2: مؤشر[صـحيح]؛
    صوان2 = مـتم.ذاكـرة.احجز(صـحيح~حجم * 10)~مثل[مؤشر[صـحيح]]؛
    مـتم.ذاكـرة.اضبط(صوان2، 0، صـحيح~حجم * 10)؛
    مـتم.طـرفية.اطبع("مقارنة مصفوفة بأصفار: %d\ج"، مـتم.ذاكـرة.قارن(صوان، صوان2، صـحيح~حجم * 10))؛
    مـتم.طـرفية.اطبع("مقارنة أصفار بمصفوفة: %d\ج"، مـتم.ذاكـرة.قارن(صوان2، صوان، صـحيح~حجم * 10))؛
    مـتم.ذاكـرة.انسخ(صوان2، صوان، صـحيح~حجم * 10)؛
    مـتم.طـرفية.اطبع("مقارنة مصفوفتين متطابقتين: %d\ج"، مـتم.ذاكـرة.قارن(صوان، صوان2، صـحيح~حجم * 10))؛
    مـتم.ذاكـرة.حرر(صوان)؛
    مـتم.ذاكـرة.حرر(صوان2)؛
  }؛
}؛

رئـيسي.ابدأ()؛
