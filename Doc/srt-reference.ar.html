<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <title>دليل المكتبات التنفيذية | لغة الأسس البرمجية</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="Resources/rtl/bootstrap.min.css">
    <link rel="stylesheet" href="Resources/font-awesome.min.css">
    <link rel="stylesheet" href="Resources/style.css">
    <link rel="stylesheet" href="Resources/highlight.default.css">
    <script src="Resources/jquery.min.js"></script>
    <script src="Resources/popper.min.js"></script>
    <script src="Resources/bootstrap.min.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html"><img src="Resources/logo.gif" alt="Alusus Programming Language" class="site-logo"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <h3 style="padding-top: 0px; margin-top: 0px;">لغة الأسس - دليل المكتبات التنفيذية</h3>
            </div>
        </div>
    </nav>
    <div class="container">
        <!--content-separator-->
        <div class="row">
            <div class="col-md-3">
                <div class="card side-sticky">
                    <div class="card-header">دليل المكتبات التنفيذية</div>
                    <div class="card-content">
                        <a href="#Srl">دليل مكتبة التنفيذ المعيارية (Srl)</a><br>
                        <ul class="unstyled-list">
                            <li><a href="#Array">الصنف: مـصفوفة (Array)</a></li>
                            <li><a href="#String">الصنف: نـص (String)</a></li>
                            <li><a href="#Map">الصنف: تـطبيق (Map)</a></li>
                            <li><a href="#SrdRef">الصنف: سـندنا (SrdRef)</a></li>
                            <li><a href="#WkRef">الصنف: سـندهم (WkRef)</a></li>
                            <li><a href="#UnqRef">الصنف: سـندنا (UnqRef)</a></li>
                            <li><a href="#Memory">الوحدة: ذاكـرة (Memory)</a></li>
                            <li><a href="#Math">الوحدة: ريـاضيات (Math)</a></li>
                            <li><a href="#Net">الوحدة: شـبكة (Net)</a></li>
                            <li><a href="#Console">الوحدة: طـرفية (Console)</a></li>
                            <li><a href="#System">الوحدة: نـظام (System)</a></li>
                            <li><a href="#Fs">الوحدة: نـم (Fs)</a></li>
                            <li><a href="#Regex">الوحدة: نـمط (Regex)</a></li>
                            <li><a href="#Time">الوحدة: وقـت (Time)</a></li>
                            <li><a href="#Srl-other">تعريفات أخرى</a></li>
                        </ul>
                        <a href="#Build">دليل مكتبة `بـناء` (Build)</a><br>
                          <ul class="unstyled-list">
                            <li><a href="#Build-Exe">الصنف: تـنفيذي (Exe)</a></li>
                            <li><a href="#Build-Wasm">الصنف: ويـب_أسمبلي (Wasm)</a></li>
                            <li><a href="#Build-genExecutable">الدالة: أنشئ_تنفيذي (genExecutable)</a></li>
                            <li><a href="#Build-genWasm">الدالة: أنشئ_ويب_أسمبلي (genWasm)</a></li>
                          </ul>
                        <a href="#Zip">دليل مكتبة `ضـغط` (Zip)</a><br>
                        <a href="#Apm">دليل مدير الحزم</a><br>
                        <a href="#Core" class="top-level">دليل الوحدة `الـقلب` (Core)</a><br>
                          <ul class="unstyled-list">
                            <li><a href="#Core-importFile">الدالة: اشمل_ملف (importFile)</a></li>
                            <li>
                              <a href="#Core-typesInfo">هوية الأصناف</a><br>
                              <ul class="unstyled-list">
                                <li><a href="#Core-TiObjectFactory">الصنف: مـصنع_كائن_بهوية (TiObjectFactory)</a></li>
                                <li><a href="#Core-TypeInfo">الصنف: هـوية_صنف (TypeInfo)</a></li>
                                <li><a href="#Core-TiObject">الصنف: كـائن_بهوية (TiObject)</a></li>
                                <li><a href="#Core-TiInterface">الصنف: وسـيط_بهوية (TiInterface)</a></li>
                                <li><a href="#Core-getInterface">الماكرو: هات_وسيط (getInterface)</a></li>
                                <li><a href="#Core-isDerivedFrom">الماكرو: أمشتق_من (isDerivedFrom)</a></li>
                                <li><a href="#Core-defDynCastedRef">الماكرو: عرف_سندا_بتمثيل_آمن (defDynCastedRef)</a></li>
                              </ul>
                            </li>
                            <li><a href="#Core-basicTypes">أصناف أساسية</a></li>
                            <li>
                              <a href="#Core-dynamicDataAccess">الوصول الديناميكي للبيانات</a><br>
                              <ul class="unstyled-list">
                                <li><a href="#Core-Binding">الوسيط: ربـط (Binding)</a></li>
                                <li><a href="#Core-Containing">الوسيط: احـتواء (Containing)</a></li>
                                <li><a href="#Core-DynamicContaining">الوسيط: احـتواء_مرن (DynamicContaining)</a></li>
                                <li><a href="#Core-MapContaining">الوسيط: احـتواء_تطبيقي (MapContaining)</a></li>
                                <li><a href="#Core-DynamicMapContaining">الوسيط: احـتواء_تطبيقي_مرن (DynamicMapContaining)</a></li>
                              </ul>
                            </li>
                            <li>
                              <a href="#Core-ast">أصناف شجرة البنية المجردة (AST)</a>
                              <ul class="unstyled-list">
                                <li><a href="#Core-Node">الصنف: عـقدة (Node)</a></li>
                                <li><a href="#Core-textAstTypes">الأصناف النصية</a></li>
                                <li><a href="#Core-expAstTypes">أصناف الأوامر والتراكيب</a></li>
                              </ul>
                            </li>
                          </ul>
                        <a href="#Spp" class="top-level">دليل الوحدة `نـبم` (Spp)</a><br>
                          <ul class="unstyled-list">
                            <li><a href="#Spp-buildMgr">الكائن: مدير_البناء (buildMgr)</a></li>
                            <li><a href="#Spp-astMgr">الكائن: مدير_شبم (astMgr)</a></li>
                            <li>
                              <a href="#Spp-ast">أصناف شجرة البنية المجردة (AST)</a>
                              <ul class="unstyled-list">
                                <li><a href="#Spp-typesAstTypes">الأصناف</a></li>
                                <li><a href="#Spp-opsAstTypes">مؤثرات</a></li>
                                <li><a href="#Spp-stmtAstTypes">عبارات</a></li>
                                <li><a href="#Spp-otherAstTypes">أخرى</a></li>
                              </ul>
                            </li>
                          </ul>
                        <a href="#astManipulation" class="top-level">معالجة شجرة البنية المجردة</a><br>
                    </div>
                </div>
            </div>
            <div class="col-md-9">
                <h3 id="Srl">دليل مكتبة التنفيذ المعيارية (Srl)</h3>
                <hr>
                <div>
                    مكتبة التنفيذ المعيارية تتكون من وحدة واحدة اسمها `مـتم` (Srl) وتحتوي هذه الوحدة على الوحدات التالية:

                    <h4 class="foldable" id="Array">الصنف: مـصفوفة (Array)</h4>
                    <div>
                        قالب مصفوفة ديناميكية تتولى مسؤولية إدارة الذاكرة مع مراعاة الأداء وتجنب عمليات النسخ وحجز الذاكرة غير الضرورية. المثال التالي يوضح التعامل مع هذه المصفوفة الديناميكية:
                        <pre class="samplecode" dir=rtl style="text-align:right;">
دالة رئيسي {
  عرف م: مـصفوفة[صـحيح] = هات_مصفوفة()؛
  م.أضف(1)؛ // هنا يتم تمديد حجم الذاكرة المحجوزة
  عرف م2: مـصفوفة[صـحيح] = م؛ // هنا لا يتم إنشاء نسخة جديدة من الصوان
  م.أضف(2)؛ // الآن يتم إنشاء نسخة جديدة كي لا يتأثر م2
  اطبع_مصفوفة(م)؛ // لا يتم هنا إعادة حجز الذاكرة أو نسخها
  // الآن يتم تحرير ذاكرة م وم2
}؛

دالة هات_مصفوفة (): مـصفوفة[صـحيح] {
  عرف ن: مـصفوفة[صـحيح]؛
  ن.أضف(0)؛
  ارجع ن؛ // لا يتم هنا إعادة حجز الذاكرة أو نسخها
}؛

دالة اطبع_مصفوفة (ن: مـصفوفة[صـحيح]) {
  عرف ع: صـحيح؛
  لكل ع = 0، ع < ن.هات_الطول()، ++ع طـرفية.اطبع("%d\ج"، ن(ع))؛
}؛
</pre> يحتوي الصنف `مـصفوفة` على الدالات التالية:
                        <ul class="subsections">
                            <li>
                              <b>التهيئة</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  عملية هذا~هيئ(سند[مـصفوفة[صـنف_المحتوى]])؛
  عملية هذا_هيئ(عدد_العناصر: صـحيح، العناصر: ...صـنف_المحتوى)؛
</pre>
                              الصيغة الأولى تهيئ المصفوفة من مصفوفة أخرى. ستستخدم المصفوفة الجديدة نفس المحتوى الذي في المصفوفة المعطاة ولن يتم
                              نسخ المحتوى حتى تغير إحدى المصفوفتي المحتوى، وعندها ينسخ المحتوى قبل التغيير لضمان عدم تأثر المصفوفة الأخرى.<br>
                              الصيغة الثانية تهيئ المصفوفة من العناصر المعطاة كما في المثال التالي:
<pre class="samplecode" dir=rtl style="text-align:right;">
  عرف م1: مـصوفة[صحيح]({ 5، 2، 1 })؛ // ستحتوي المصفوفة على 3 عناصر هي 5، 2، 1 على التوالي.
  عرف م2: مـصفوفة[صحيح](3، 5، 2، 1)؛ // ستحتوي المصفوفة على 3 عناصر هي 5، 2، 1 على التوالي.
</pre>
                            </li>
                            <li>
                                <b>هات_الطول (getLength)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة هات_الطول (): صـحيح_متكيف؛
</pre> ترجع عدد العناصر في المصفوفة.
                            </li>
                            <li>
                                <b>هات_حجم_الصوان (getBufSize)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة هات_حجم_الصوان (): صـحيح_متكيف؛
</pre> ترجع عدد العناصر التي تتسع لها الذاكرة المحجوزة حاليًا. عند تجاوز هذا الحجم يقوم الكائن تلقائيا بتوسيع حجز الذاكرة.
                            </li>
                            <li>
                                <b>عيّن (assign)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة عين (م: سند[مـصفوفة[صـنف_المحتوى]])؛
</pre> تعيين محتوى جديد للمصفوفة من مصفوفة أخرى. هذه الدالة لا تنسخ المحتوى من المصفوفة الأخرى وإنما تتشارك معها بنفس الصوان لحين حاجة إحدى المصفوفتين لتغيير المحتوى، حينها تنسخ تلك المصفوفة الصوان وتنتهي المشاركة.
                            </li>
                            <li>
                                <b>أضف (add)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة أضف (م: سند[صـنف_المحتوى])؛
  دالة أضف (عدد_العناصر: صـحيح، العناصر: ...صـنف_المحتوى)؛
</pre>
                              الصيغة الأولى تضيف عنصرا إلى المصفوفة بعد توسيع حجز الذاكرة إن وجب. إذا كان المحتوى
                              مشارك مع مصفوفة أخرى تقوم الدالة بنسخ المحتوى إلى صوان جديد.<br>
                              الصيغة الثانية تضيف عدة عناصر مرة واحدة بدل أن تضيف عنصرا واحدًا.
<pre class="samplecode" dir=rtl style="text-align:right;">
  م.أضف({ 5، 2، 1 })؛ // تضيف 3 عناصر هي 5، 2، 1 على التوالي.
  م.أضف(3، 5، 2، 1)؛ // تضيف 3 عناصر هي 5، 2، 1 على التوالي.
</pre>
                            </li>
                            <li>
                                <b>احشر (insert)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة احشر (موقع: صـحيح_متكيف، عنصر: صـنف_المحتوى)؛
</pre> إضافة عنصر جديد إلى المصفوفة في الموقع المحدد بعد توسيع حجز الذاكرة إن وجب. إذا كان المحتوى مشارك مع مصفوفة أخرى تقوم الدالة بنسخ المحتوى إلى صوان جديد.
                            </li>
                            <li>
                                <b>أزل (remove)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة أزل (موقع: صـحيح_متكيف)؛
</pre> إزالة العنصر الذي في الموقع المحدد. إذا كان المحتوى مشارك مع مصفوفة أخرى تقوم الدالة بنسخ المحتوى إلى صوان جديد.
                            </li>
                            <li>
                                <b>فرّغ (clear)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة فرّغ ()؛
</pre> إزالة جميع العناصر من المصفوفة. إذا كان المحتوى مشارك مع مصفوفة أخرى تقوم الدالة بنسخ المحتوى إلى صوان جديد.
                            </li>
                        </ul>
                    </div>

                    <h4 class="foldable" id="String">الصنف: نـص (String)</h4>
                    <div>
                        الصنف `نـص` يسهل التعامل مع سلاسل المحارف فهو يتولى مسؤولية حجز وتحرير الذاكرة الخاصة بسلسلة المحارف مع مراعاة الأداء وتجنب عمليات النسخ وحجز الذاكرة غير الضرورية. يوفر الصنف دالات لتسهيل العمليات المختلفة على سلاسل الحارف. المثال التالي يوضح التعامل
                        مع سلاسل المحارف:
                        <pre class="samplecode" dir=rtl style="text-align:right;">
دالة رئيسي {
  عرف نص: نـص = هات_نص()؛
  نص += " والحمد لله"؛ // هنا يتم تمديد حجم الذاكرة المحجوزة
  عرف نص2: نـص = نص؛ // هنا لا يتم إنشاء نسخة جديدة من النص
  نص += "."؛ // الآن يتم إنشاء نسخة جديدة كي لا يتأثر نص2
  اطبع_نص(نص)؛ // لا يتم هنا إعادة حجز الذاكرة أو نسخها
  // الآن يتم تحرير ذاكرة نص ونص2
}؛

دالة هات_نص (): نـص {
  عرف ن: نـص = "بسم الله"؛
  ارجع ن؛ // لا يتم هنا إعادة حجز الذاكرة أو نسخها
}؛

دالة اطبع_نص (ن: نـص) {
  طـرفية.اطبع(ن)؛ // يتم هنا التحويل تلقائيا من صنف نـص إلى مؤشر على محارف.
}؛
</pre> يحتوي الصنف `نـص` على المتغيرات والدالات التالية:
                        <ul class="subsections">
                            <li>
                                <b>صوان (buf)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
عرف صوان: مؤشر[مصفوفة[مـحرف]]؛
</pre> مؤشر على محتوى هذا النص.
                            </li>
                            <li>
                                <b>مؤثر الأقواس</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
عملية هذا(م: صـحيح_متكيف): مـحرف
</pre> يمكن استخدام هذا المؤثر لإرجاع المحرف في الموقع المحدد.
                            </li>
                            <li>
                                <b>مؤثرات المقارنة</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
عملية هذا == مؤشر[مصفوفة[مـحرف]]: ثـنائي
عملية هذا < مؤشر[مصفوفة[مـحرف]]: ثـنائي
عملية هذا > مؤشر[مصفوفة[مـحرف]]: ثـنائي
عملية هذا <= مؤشر[مصفوفة[مـحرف]]: ثـنائي
عملية هذا >= مؤشر[مصفوفة[مـحرف]]: ثـنائي
</pre> تقارن هذا النص مع النص المعطى.
                            </li>
                            <li>
                                <b>هات_الطول (getLength)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
1: دالة هات_الطول (): صـحيح_متكيف؛
2: @مشترك دالة هات_الطول (م: مؤشر[مصفوفة[مـحرف]]): صـحيح_متكيف؛
</pre> 1. ترجع طول هذا النص.<br> 2. ترجع طول سلسلة المحارف المعطاة.
                            </li>
                            <li>
                                <b>احجز (alloc)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة احجز (صـحيح_متكيف)؛
</pre> تقوم بحجز مسبق للذاكرة. تمكن هذه الدالة المستخدم من حجز الذاكرة مسبقًا قبل تعبئتها بالمحتوى باستخدام التعامل المباشر مع صوان هذا النص. تنفع هذه الطريقة عند التعامل مع مكتبات تتعامل مع مؤشرات المحارف، مع الاستفادة
                                من خاصيات إدارة الذاكرة التي يوفرها هذا الصنف.
                            </li>
                            <li>
                                <b>عين (assign)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
1. دالة عين (نص: سند[نـص])؛
2. دالة عين (صوان: مؤشر[مصفوفة[مـحرف]])؛
3. دالة عين (صوان: مؤشر[مصفوفة[مـحرف]]، عدد: صـحيح_متكيف)؛
4. @مشترك دالة عين (المقصد: مؤشر[مصفوفة[مـحرف]]، نسق: مؤشر[مصفوفة[مـحرف]]، ...أيما): صـحيح؛
</pre> 1. تعيين محتوى جديد للنص من نص آخر. هذه الدالة لا تنسخ محتوى النص الآخر وإنما تتشارك معه بنفس الصوان لحين حاجة أحد النصين لتغيير المحتوى، حينها ينسخ ذاك النص الصوان وتنتهي المشاركة.<br> 2. تعيين محتوى جديد للنص من
                                صوان في الذاكرة. تنسخ هذه الدالة المحتوى من ذلك الصوان إلى صوان جديد يديره هذا النص.<br> 3. مشابهة للدالة 2 لكنها تنسخ فقط العدد المحدد من المحارف من الصوان المعطى.<br> 4. تعيين قيمة جديدة من نسق (format) وعدد غير محدد
                                من المعطيات إلى المقصد. يجب على المستخدم ضمان أن تكفي ذاكرة المقصد لاستيعاب الناتج كاملاً.<br> يمكن للمستخدم أيضًا استخدام المؤثر = للاستعاضة عن الدالتين 1 و 2.
                            </li>
                            <li>
                                <b>ألحق (append)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
1. دالة ألحق (صوان: مؤشر[مصفوفة[مـحرف]])؛
2. دالة ألحق (صوان: مؤشر[مصفوفة[مـحرف]]، عدد: صـحيح_متكيف)؛
3. دالة ألحق (م: مـحرف)؛
4. دالة ألحق (ص: صـحيح[64])؛
5. دالة ألحق (ع: عـائم[64])؛
</pre> 1. ألحق الصوان المعطى بنهاية محتوى هذا النص.<br> 2. ألحق العدد المحدد من المحارف من الصوان المعطى.<br> 3. ألحق محرفا بنهاية هذا النص.<br> 4. ألحق العدد المعطى بنهاية هذا النص. هذه الدالة تلحق تمثيلاً نصيا للعدد المعطى.<br>                                5. مشابهة للدالة 4 لكنها تلحق عددا عائما بدل عدد صحيح.<br> يمكن أيضا الاستعاضة عن هذه الدالات (باستثناء الدالة 2) بالمؤثر +=.
                            </li>
                            <li>
                                <b>سلسل (concat)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
1. دالة سلسل (صوان: مؤشر[مصفوفة[مـحرف]])؛
2. دالة سلسل (صوان: مؤشر[مصفوفة[مـحرف]]، عدد: صـحيح_متكيف)؛
3. دالة سلسل (م: مـحرف)؛
4. دالة سلسل (ص: صـحيح[64])؛
5. دالة سلسل (ع: عـائم[64])؛
6. @مشترك دالة سلسل (المقصد: مؤشر[مصفوفة[مـحرف]]، المصدر: مؤشر[مصفوفة[مـحرف]]): مؤشر؛
7. @مشترك دالة سلسل (المقصد: مؤشر[مصفوفة[مـحرف]]، المصدر: مؤشر[مصفوفة[مـحرف]]، عدد: صـحيح_متكيف): مؤشر؛
</pre> 1-5. هذه الدالات مشابهة لدالات `ألحق` لكنها ترجع النتيجة في نص جديد بدل تعديل النص الحالي. يمكن أيضًا الاستعاضة عن هذه الدالات 1 و3 و4 و5 بالمؤثر +.<br> 6. تلحق سلسلة محارف المصدر بنهاية سلسلة محارف المقصد. يجب على
                                المستخدم ضمان أن تكون ذاكرة المقصد المحجوزة كافية لاستيعاب العناصر الجديدة.<br> 7. مشابهة للدالة 6 لكنها تنسخ فقط العدد المحدد من عناصر المصدر.
                            </li>
                            <li>
                                <b>جد (find)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
1: دالة جد (صوان: مؤشر[مصفوفة[محرف]]): صـحيح_متكيف؛
2: دالة جد (م: مـحرف): صـحيح_متكيف؛
3: @مشترك دالة جد (سلسلة: مؤشر[مصفوفة[مـحرف]]، مقطع: مؤشر[مصفوفة[مـحرف]]): مؤشر[مصفوفة[مـحرف]]؛
4: @مشترك دالة جد (سلسلة: مؤشر[مصفوفة[مـحرف]]، م: مـحرف): مؤشر[مصفوفة[مـحرف]]؛
</pre> 1. بحث عن سلسلة محارف داخل هذا النص. ترجع موقع بداية سلسلة المحارف المكتشفة، أو -1 إذا فشل العثورة عليها.<br> 2. بحث عن محرف داخل هذ النص. ترجع موقع المحرف المكتشف، أو -1 إذا فشل العثور عليه.<br> 3. بحث عن مقطع داخل
                                سلسلة المحارف المعطاة. ترجع مؤشر على بداية سلسلة المحارف المكتشفة، أو 0 إذا فشل العثور عليها.<br> 4. بحث عن محرف داخل سلسلة المحارف المعطاة. ترجع مؤشر على المحرف المكتشف، أو 0 إذا فشل العثور عليه.
                            </li>
                            <li>
                                <b>جد_آخر (findLast)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
1: دالة جد_آخر (صوان: مؤشر[مصفوفة[محرف]]): صـحيح_متكيف؛
2: دالة جد_آخر (م: مـحرف): صـحيح_متكيف؛
3: @مشترك دالة جد_آخر (سلسلة: مؤشر[مصفوفة[مـحرف]]، مقطع: مؤشر[مصفوفة[مـحرف]]): مؤشر[مصفوفة[مـحرف]]؛
4: @مشترك دالة جد_آخر (سلسلة: مؤشر[مصفوفة[مـحرف]]، م: مـحرف): مؤشر[مصفوفة[مـحرف]]؛
</pre> هذه الدالات مشابهة لدالات `جد` لكنهن تبدأن البحث من نهاية النص بدل البحث من البداية.
                            </li>
                            <li>
                                <b>قارن (compare)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
1. دالة قارن (صوان: مؤشر[مصفوفة[مـحرف]]): صـحيح؛
2. دالة قارن (صوان: مؤشر[مصفوفة[مـحرف]]، عدد: صـحيح_متكيف): صـحيح؛
3. @مشترك دالة قارن (نص1: مؤشر[مصفوفة[مـحرف]]، نص2: مؤشر[مصفوفة[مـحرف]]): صـحيح؛
4. @مشترك دالة قارن (نص1: مؤشر[مصفوفة[مـحرف]]، مص2: مؤشر[مصفوفة[مـحرف]]، عدد: صـحيح_متكيف): صـحيح؛
</pre> 1. تقارن النص الحالي بالنص المعطى وترجع 1 إذا كان النص الحالي أكبر أو -1 إذا كان أصغر أو 0 إذا كانا متطابقين.<br> 2. مشابهة للدالة 1 لكنها تقارن فقط العدد المحدد من عناصر الصوان المعطى.<br> 3. مشابهة للدالة 1 لكنها
                                تقارن مصفوفتي المحارف المعطاتين.<br> 4. مشابهة للدالة 3 لكنها تقارن عددا محددا فقط من محارف المصفوفة الثانية.
                            </li>
                            <li>
                                <b>استبدل (replace)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
1. دالة استبدل (التطابق: مؤشر[مصفوفة[محرف]]، البديل: مؤشر[مصفوفة[محرف]])؛
2. @مشترك دالة استبدل (محارف: مؤشر[مصفوفة[مـحرف]]، من: مـحرف، إلى: مـحرف): مؤشر[مصفوفة[مـحرف]]؛
</pre> 1. تبدل جزءا من النص بآخر وترجع الناتج في نص جديد.<br> 2. تستبدل محرفًا مكان آخر في سلسلة المحارف المعطاة. هذه الدالة تغيّر المصفوفة المعطاة.
                            </li>
                            <li>
                                <b>شذب (trim)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة شذب (): نـص؛
</pre> تزيل الفراغات (المحارف غير المرئية سواء محرف المسافة أو غيرها) من طرفي النص وترجع الناتج في نص جديد.
                            </li>
                            <li>
                                <b>شذب_البداية (trimStart)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة شذب_البداية (): نـص؛
</pre> مشابهة لدالة `شذب` لكنها تشذب البداية فقط.
                            </li>
                            <li>
                                <b>شذب_النهاية (trimEnd)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة شذب_النهاية (): نـص؛
</pre> مشابهة لدالة `شذب` لكنها تشذب النهاية فقط.
                            </li>
                            <li>
                                <b>كبر (toUpperCase)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة كبر (): نـص؛
</pre> تستبدل الأحرف اللاتينية الصغيرة بمثيلاتها الكبيرة وترجع الناتج في نص جديد.
                            </li>
                            <li>
                                <b>صغر (toLowerCase)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة صغر (): نـص؛
</pre> تستبدل الأحرف اللاتينية الكبيرة بمثيلاتها الصغيرة وترجع الناتج في نص جديد.
                            </li>
                            <li>
                                <b>اجتزء (slice)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة اجتزء (بداية: صـحيح_متكيف، عدد: صـحيح_متكيف): نـص؛
</pre> ترجع جزءا من النص الحالي كنص جديد.
                            </li>
                            <li>
                                <b>قطع (split)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة قطع (فاصل: مؤشر[مصفوفة[مـحرف]]): مـصفوفة[نـص]؛
</pre> ترجع أجزاء النص الحالي التي يفصلها الفاصل المعطى. إذا لم يوجد هذا النص فإنها ترجع عنصرا واحدا يحتوي النص كاملا.
                            </li>
                            <li>
                                <b>ادمج (merge)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة ادمج (أجزاء: مـصفوفة[نـص]، فاصل: مؤشر[مصفوفة[مـحرف]]): نـص؛
</pre> ترجع نصًا جديدا يحتوى الأجزاء المعطاة مفصولة بالفاصل المعطى.
                            </li>
                            <li>
                                <b>انسخ (copy)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
1. دالة انسخ (المقصد: مؤشر[مصفوفة[مـحرف]]، المصدر: مؤشر[مصفوفة[مـحرف]]): مؤشر؛
2. دالة انسخ (المقصد: مؤشر[مصفوفة[مـحرف]]، المصدر: مؤشر[مصفوفة[مـحرف]]، عدد: صـحيح_متكيف): مؤشر؛
</pre> 1. تنسخ سلسلة المحارف من المصدر إلى المقصد. يجب على المستخدم ضمان أن تكون الذاكرة المحجوزة للمقصد كافية لاستيعاب كامل مصفوفة المصدر.<br> 2. مشابهة للدالة 1 لكنها تنسخ فقط العدد المحدد من عناصر المصدر.
                            </li>
                            <li>
                                <b>امسح (scan)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@مشترك دالة امسح (المصدر: مؤشر[مصفوفة[مـحرف]]، نسق: مؤشر[مصفوفة[مـحرف]]، ...أيما): صـحيح؛
</pre> امسح سلسلة المحارف المعطاة بحثًا عن العناصر المحددة في النسق وإرجاع هذه العناصر في المعطيات الملحقة بعد النسق. هذه الدالة مطابقة لدالة النظام sscanf.
                            </li>
                            <li>
                                <b>أهو_مسافة (isSpace)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@مشترك دالة أهو_مسافة (م: مـحرف): ثـنائي؛
</pre> تخبرك فيما إذا كان المحرف المعطى مسافة أو إزاحة (tab) أو سطر جديد أو محرف الرجوع لبداية السطر.
                            </li>
                            <li>
                                <b>أمتطابق (isEqual)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@مشترك دالة أمتطابق (نص1: مؤشر[مصفوفة[مـحرف]]، نص2: مؤشر[مصفوفة[مـحرف]]): ثـنائي؛
</pre> تخبرك فيما لو كانت سلسلتا المحارف المعطاتان متطابقتين.
                            </li>
                            <li>
                                <b>أزل (remove)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@مشترك دالة أزل (محارف: مؤشر[مصفوفة[مـحرف]]، م: مـحرف): مؤشر[مصفوفة[مـحرف]]؛
</pre> تزيل كل مطابقة للمحرف المعطى من سلسلة المحارف المعطاة. إزالة المحرف تؤدي إلى تزحيف المحارف التي بعده لتحل محله.
                            </li>
                            <li>
                                <b>املأ (format)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
@مشترك دالة املأ (صيغة: مؤشر[مصفوفة[مـحرف]]، قيم: ...أيما): نـص؛
</pre>
تنشئ نصًا جديدًا من الصيغة المعطاة بعد ملئها بالقيم المطاة. تعمل هذه الدالة بشكل مشابه لدالة sprintf، وذلك باستبدال الرموز البادئة ب% في
الصيغة بقيمة من قائمة المعطيات تطابق الصنف المحدد. الرمز % يتبعه محرف يدل على صنف القيمة المعطاة، وهي كالتالي:
                              <ul>
                                <li><b>%s</b> سلسلة محارف نصية.</li>
                                <li><b>%c</b> محرف مفرد.</li>
                                <li><b>%i</b> عدد صحيح بحجم 32 بت.</li>
                                <li><b>%l</b> عدد صحيح بحجم 64 بت.</li>
                                <li><b>%f</b> عدد عائم بحجم 32 بت.</li>
                                <li><b>%d</b> عدد عائم بحجم 64 بت.</li>
                                <li><b>%%</b> تطبع علامة % نفسها.</li>
                              </ul>
                            </li>
                            <li>
                                <b>اقرأ_صحيح (parseInt)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
@مشترك دالة اقرأ_صحيح (نص: مؤشر[مصفوفة[مـحرف]]): صـحيح[64]؛
</pre>
تقرأ عددًا صحيحًا من سلسلة المحارف المعطاة وترجعه.
                            </li>
                            <li>
                                <b>اقرأ_عائم (parseFloat؛)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
@مشترك دالة اقرأ_عائم (نص: مؤشر[مصفوفة[مـحرف]]): عـائم[64]؛
</pre>
تقرأ عددًا عائمًا من سلسلة المحارف المعطاة وترجعه.
                            </li>
                        </ul>
                    </div>

                    <h4 class="foldable" id="Map">الصنف: تـطبيق (Map)</h4>
                    <div>
                        قالب تـطبيق (Map) يتيح تحديد صنفي المفتاح والقيمة ويتولى مسؤولية إدارة الذاكرة مع مراعاة الأداء وتجنب عمليات النسخ وحجز الذاكرة غير الضرورية. المثال التالي يوضح التعامل مع هذا التطبيق:
<pre class="samplecode" dir=rtl style="text-align:right;">
دالة رئيسي {
  عرف ت1: تـطبيق[صـحيح، صـحيح] = هات_تطبيق()؛
  ت1.حدد(7، 50)؛ // هنا يتم تمديد حجم الذاكرة المحجوزة.
  عرف ت2: تـطبيق[صـحيح، صـحيح] = ت؛ // هنا لا يتم إنشاء نسخة جديدة من الصوان.
  ت2.حدد(12، 7)؛ // الآن يتم إنشاء نسخة جديدة كي لا يتأثر ت1.
  اطبع_تطبيق(ت2)؛ // لا يتم هنا إعادة حجز الذاكرة أو نسخها.
  اطبع_صحيح(ت2(7))؛ // سيطبع 50.
  اطبع_صحيح(ت2(12))؛ // سيطبع 7.
  // الآن يتم تحرير ذاكرة ت1 و ت2.
}؛

دالة هات_تطبيق (): تطبيق[صـحيح، صـحيح] {
  عرف ت: تـطبيق[صـحيح، صـحيح]؛
  ت.أضف(0، 10)؛
  ارجع ت؛ // لا يتم هنا إعادة حجز الذاكرة أو نسخها.
}؛

دالة اطبع_تطبيق (ت: تـطبيق[صـحيح، صـحيح]) {
  عرف ع: صـحيح؛
  لكل ع = 0، ع < ت.هات_الطول()، ++ت {
    طـرفية.اطبع("%d = %d\ج"، ت.المفتاح_عند(ع)، ت.القيمة_عند(ع))؛
  }؛
}؛
</pre>
                        يحتوي الصنف `تـطبيق` على العناصر التالية:
                        <ul class="subsections">
                            <li>
                              <b>التهيئة</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  عملية هذا~هيئ(استخدم_فهرسا: ثـنائي)؛
  عملية هذا~هيئ(سند[تـطبيق[صـنف_المفتاح، صـنف_المحتوى]])؛
  عملية هذا~هيئ(سند[تـطبيق[صـنف_المفتاح، صـنف_المحتوى]]، استخدم_فهرسا: ثـنائي)؛
</pre>
                              الصيغة الأولى تهيئ تطبيقًا فارغًا مع الاختيار بين استخدام فهرس من عدمه. استخدام الفهرس يسرع البحث عن العناصر في التطبيق، على حساب استهلاك الذاكرة وتبطيء إضافة العناصر.<br>
                              الصيغة الثانية تهيئ التطبيق من تطبيق آخر. سيستخدم التطبيق الجديد نفس المحتوى الذي في التطبيق المعطى ولن يتم
                              نسخ المحتوى حتى يغير أحد التطبيقين المحتوى، وعندها ينسخ المحتوى قبل التغيير لضمان عدم تأثر التطبيق الآخر. في
                              هذه الصيغة لن يتم استخدام فهرس حتى لو كان للتطبيق المعطى فهرس.<br>
                              الصيغة الثالثة مشابهة للثانية مع تمكين المستخدم من استخدام فهرس. إن طلب المستخدم استخدام فهرس فسيتم ذلك حتى
                              لو خلا التطبيق المعطى من الفهرس.
                            </li>
                            <li>
                                <b>مفاتيح (keys)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  عرف مفاتيح: مـصفوفة[صـنف_المفتاح]؛
</pre>
                              مصفوفة المفاتيح التي في هذا التطبيق.
                            </li>
                            <li>
                                <b>قيم (values)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  عرف قيم: مـصفوفة[صـنف_المحتوى]؛
</pre>
                              مصفوفة المحتويات التي في هذا التطبيق.
                            </li>
                            <li>
                                <b>هات_الطول (getLength)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_الطول (): صـحيح_متكيف؛
</pre>
                              ترجع عدد العناصر في التطبيق.
                            </li>
                            <li>
                                <b>المفتاح_عند (keyAt)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة المفتاح_عند (صـحيح_متكيف): سند[صـنف_المفتاح]؛
</pre>
                              ترجع سندًا للمفتاح الذي عند الموقع المطلوب.
                            </li>
                            <li>
                                <b>القيمة_عند (valAt)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة القيمة_عند (صـحيح_متكيف): سند[صـنف_المحتوى]؛
</pre>
                              ترجع سندًا للقيمة التي عند الموقع المطلوب.
                            </li>
                            <li>
                                <b>حدد (set)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة حدد (
      مفتاح: صـنف_المفتاح، قيمة: صـنف_القيمة
  ): سند[تـطبيق[صـنف_المفتاح، صـنف_المحتوى]]؛
</pre>
                              تحدد قيمة للمفتاح المعطى. إن كان لهذا المفتاح قيمة فإنها ستبدل بالقيمة الجديدة. هذه الدالة ترجع سندا للتطبيق نفسه،
                              ما يمكن المستخدم من سلسلة عدة عمليات تحديد في جملة واحدة.
                            </li>
                            <li>
                                <b>حدد_عند (setAt)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة حدد_عند (
      تسلسل: صـحيح_متكيف، قيمة: صـنف_القيمة
  ): سند[تـطبيق[صـنف_المفتاح، صـنف_المحتوى]]؛
</pre>
                              تحدد قيمة جديدة عند التسلسل المعطى، أي تغيير القيمة باستخدام تسلسلها بدلاً من مفتاحها.
                              هذه الدالة ترجع سندا للتطبيق نفسه، ما يمكن المستخدم من سلسلة عدة عمليات تحديد في جملة واحدة.
                            </li>
                            <li>
                                <b>احشر (insert)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة حدد_عند (تسلسل: صـحيح_متكيف، مفتاح: صـنف_المفتاح، قيمة: صـنف_القيمة)؛
</pre>
                              تضيف مفتاحًا جديدًا وقيمته عند التسلسل المحدد.
                            </li>
                            <li>
                                <b>أزل (remove)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة حدد_عند (مفتاح: صـنف_المفتاح): ثـنائي؛
</pre>
                              تزيل المفتاح المحدد وقيمته. ترجع 1 إذا أُزيل المفتاح، و 0 إذا لم يوجد المفتاح ابتداءًا.
                            </li>
                            <li>
                                <b>أزل_عند (removeAt)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة حدد_عند (تسلسل: صـحيح_متكيف)؛
</pre>
                              تزيل المفتاح عند التسلسل المحدد وقيمتَه.
                            </li>
                            <li>
                                <b>فرغ (clear)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة فرغ ()؛
</pre>
                              تفرغ كل المحتوى وتبدأ بتطبيق فارغ.
                            </li>
                            <li>
                                <b>جد_الموقع (findPos؛)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة جد_الموقع (مفتاح: صـنف_المفتاح): صـحيح_متكيف؛
</pre>
                              ترجع تسلسل المفتاح المعطى، أو -1 إن لم يوجد هذا المفتاح.
                            </li>
                        </ul>
                    </div>

                    <h4 class="foldable" id="SrdRef">الصنف: سـندنا (SrdRef)</h4>
                    <div>
                        قالب سند مشترك يتولى تلقائيا تحرير الكائن عندما تنتهي الحاجة له. يحتفظ هذا السند بعداد لعدد السندات المشتركة
                        التي تشير لنفس الكائن. كلما يُتلف أحد السندات يُنقص العداد وعندما يصل العداد لصفر يُتلف الكائن وتحرر ذاكرته.
<pre class="samplecode" dir=rtl style="text-align:right;">
  دالة رئيسي {
    عرف س: سـندنا[صـنفي] = سـندنا[صـنفي].أنشئ()؛
    عرف ص: سـندنا[صـنفي] = س؛ // الآن كلا السندين يشيران لنفس الكائن وعداده الآن 2.
    س.حرر()؛ // العداد صار 1 لكن الكائن لم يُحرر بعد.
    ص.حرر()؛ // الآن أتلف الكائن وحررت ذاكرته.
  }؛
</pre>
                        يحتوي الصنف `سـندنا` على المتغيرات والدالات التالية:
                        <ul class="subsections">
                            <li>
                                <b>كائن (obj)</b><br/>
                                الكائن الذي يشير إليه هذا السند. في بعض الحالات قد تحتاج للوصول إلى الكائن نفسه مثلما هو الحال عندما
                                تحتاج مؤشرًا أو سندا اعتياديا للكائن أو في حالة الوصول إلى دالة للكائن باسم مطابق لإحدى دالات الصنف `سـندنا`.
                            </li>
                            <li>
                              <b>عداد_السندات (refCounter)</b><br/>
                              القيد الذي يحتفظ بعداد السندات التي تؤشر لنفس الكائن ويحتفظ أيضا بالبيانات المطلوبة لإتلاف وتحرير الكائن.
                            </li>
                            <li>
                              <b>احجز (alloc)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة احجز (): سند[صـنف_الكائن]؛
  @مشترك دالة احجز (): سـندنا[صـنف_الكائن]؛
</pre>
                              تقوم هذه الدالة بحجز ذاكرة للكائن، لكنها لا تهيئ الكائن وتترك للمستخدم مسؤولية التهيئة باستخدام `~هيئ`.
                            </li>
                            <li>
                              <b>أنشئ (construct)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة أنشئ؛
  @مشترك دالة أنشئ (): سـندنا[صـنف_الكائن]؛
</pre>
                              تقوم هذه الدالة بحجز ذاكرة للكائن وتهيئته أيضًا. تهيئة الكائن تتم دون أي معطيات لذا لاستخدام هذه الدالة يحتاج
                              الكائن لتمكين التهيئة دون معطيات. إذا احتجت تهيئة الكائن بمعطيات فستحتاج لاستخدام دالة `احجز` بدلًا من هذه الدالة
                              ثم التهيئة يدويا باستخدام `~هيئ`.
                            </li>
                            <li>
                              <b>تملك (own)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة تملك (كائن: سند[صـنف_الكائن])؛
  @مشترك دالة تملك (كائن: سند[صـنف_الكائن]): سـندنا[صـنف_الكائن]؛
</pre>
                              هذه الدالة تعين كائن هذا السند بكائن متوفر سلفًا. بعد استدعاء هذه الدالة يتولى هذا السند مسؤولية تحرير الكائن
                              تلقائيًا. يجب تجنب هذه الدالة إذا لم يكن الكائن المعطى محجوزًا ديناميكيًا أو إذا تولت شفرة أخرى مسؤولية تحرير
                              الكائن لأن ذلك سيؤدي إلى segmentation fault.
                            </li>
                            <li>
                              <b>حرر (release)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة حرر؛
</pre>
                              تصفر هذا السند وإذا كان هذا آخر سند يشير إلى الكائن فتُحرر الكائن قبل تصفير السند.
                            </li>
                            <li>
                              <b>عين (assign)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة عين (س: سند[سـندنا[صـنف_الكائن]])؛
  دالة عين (س: سند[سـندهم[صـنف_الكائن]])؛
  دالة عين (ع: سند[عـداد_السندات]، ك: سند[صـنف_الكائن])؛
</pre>
                              تعين قيمة جديدة للسند، أي تغير السند ليؤشر إلى الكائن المعطى. الدالتان الأولى والثانية تأخذان
                              قيمة السند من صنف `سـندنا` وصنف `سـندهم` على التوالي وبنفس صنف الكائن، أما الدالة الثالثة فتستخدم لجعل السند يشير
                              إلى كائن بنفس صنف هذا السند لكنه ينتمي لسند من صنف آخر. تستخدم هذه الدالة في حالة التمثيل وما شابه مع ضمان أن
                              تحرير الكائن عند إتلاف السند سيؤدي إلى تحرير الكائن الأصلي وبصنفه الأصلي الذي أنشئ عليه. المثال التالي يوضح الفرق:
<pre class="samplecode" dir=rtl style="text-align:right;">
  عرف س: سـندنا[صـنفي]؛
  س.أنشئ()؛
  عرف ص: سـندنا[صـنف_فرعي]؛
  ص.عين(س.عداد_السندات، س.فرعي)؛

  س.حرر()؛ // لن يحرر شيئًا الآن لأن ص ما زال يحجز الكائن.
  ص.حرر()؛ // هنا سيُحرر كائن س نفسه وليس س.فرعي.
</pre>
                            </li>
                        </ul>
                    </div>

                    <h4 class="foldable" id="WkRef">الصنف: سـندهم (WkRef)</h4>
                    <div>
                        قالب سند يشير لكائن لكنه لا يُساهم في تملك الكائن، أي أنه ليس له حصة في عداد السندات الخاص بالكائن. بمعنى آخر، إذا
                        كان هذا السند يشير لكان وأتلفت جميع سندات `سـندنا` المشيرة للكائن فإن الكائن سيُحرر رغم وجود `سـندهم` يشير إليه.
                        يفيد هذا النوع من السندات في تجنب حلقات السندات المغلقة التي تؤدي إلى تسرب في الذاكرة. فإن كان عندك كائن يمتلك
                        كائنًا آخر عبر `سـندنا` وكان الكائن الداخلي يحتاج سندًا للكائن الخارجي فاستخدام `سـندنا` في الكائن الداخلي سيؤدي
                        إلى حلقة مغلقة بينما استخدام `سـندهم` في الكائن الداخلي لي يؤدي للحلقة المغلقة لأن تحرير الكائن الخارجي في هذه
                        الحالة ممكن رغم وجود كائن داخلي يشير إليه.<br>
                        الفرق بين استخدام `سـندهم` واستخدام `سند` أن الأول يحمل معلومات عداد السندات وإن كان لا يستعملها، بينما السند التقليدي
                        لا يحمل تلك المعلومات، لذلك بالإمكان الحصول على `سـندنا` من `سـندهم` بينما لا يمكن الحصول على `سـندنا` من `سند`
                        لأن الأخير لا يحمل معلومات العداد التي يحتاجها `سـندنا`.<br>
                        طريقة استخدام `سـندهم` مطابقة لـ`سـندنا`. يملك صنف `سـندهم` العناصر التالية:
                        <ul class="subsections">
                          <li>
                              <b>كائن (obj)</b><br/>
                              الكائن الذي يشير إليه هذا السند. في بعض الحالات قد تحتاج للوصول إلى الكائن نفسه مثلما هو الحال عندما
                              تحتاج مؤشرًا أو سندا اعتياديا للكائن أو في حالة الوصول إلى دالة للكائن باسم مطابق لإحدى دالات الصنف `سـندهم`.
                          </li>
                          <li>
                            <b>عداد_السندات (refCounter)</b><br/>
                            القيد الذي يحتفظ بعداد السندات التي تؤشر لنفس الكائن ويحتفظ أيضا بالبيانات المطلوبة لإتلاف وتحرير الكائن.
                          </li>
                          <li>
                            <b>حرر (release)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة حرر؛
</pre>
                            تصفر هذا السند دون تغيير شيء في عداد السندات.
                          </li>
                          <li>
                            <b>عين (assign)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة عين (س: سند[سـندنا[صـنف_الكائن]])؛
  دالة عين (س: سند[سـندهم[صـنف_الكائن]])؛
  دالة عين (ع: سند[عـداد_السندات]، ك: سند[صـنف_الكائن])؛
</pre>
                            تعين قيمة جديدة للسند، أي تغير السند ليؤشر إلى الكائن المعطى. الدالتان الأولى والثانية تأخذان
                            قيمة السند من صنف `سـندنا` وصنف `سـندهم` على التوالي وبنفس صنف الكائن، أما الدالة الثالثة فتستخدم لجعل السند يشير
                            إلى كائن بنفس صنف هذا السند لكنه ينتمي لسند من صنف آخر. تستخدم هذه الدالة في حالة التمثيل وما شابه مع ضمان أن
                            تحرير الكائن عند إتلاف السند سيؤدي إلى تحرير الكائن الأصلي وبصنفه الأصلي الذي أنشئ عليه. المثال التالي يوضح الفرق:
<pre class="samplecode" dir=rtl style="text-align:right;">
  عرف س: سـندنا[صـنفي]؛
  س.أنشئ()؛
  عرف ع: سـندهم[صـنف_فرعي]؛
  ع.عين(س.عداد_السندات، س.فرعي)؛
  عرف ص: سـندنا[صـنف_فرعي]؛
  ص = ع؛

  س.حرر()؛ // لن يحرر شيئًا الآن لأن ص ما زال يحجز الكائن.
  ص.حرر()؛ // هنا سيُحرر كائن س نفسه وليس س.فرعي.
</pre>
                          </li>
                      </ul>
                    </div>

                    <h4 class="foldable" id="UnqRef">الصنف: سـندي (UnqRef)</h4>
                    <div>
                        أبسط أنواع السندات الذكية. هذا السند غير مشترك ولا يستخدم عدادًا للسندات. عند إتلاف هذا السند فإنه سيحرر الكائن
                        الذي يملكه مباشرة. مثال:
<pre class="samplecode" dir=rtl style="text-align:right;">
  عرف س: سـندي[صـنفي]؛
  س.أنشئ()؛

  عرف ص: سـندي[صـنفي]؛
  ص = س؛ // خطأ.

  س.حرر()؛ // يُحرر الكائن هنا تلقائيا.
</pre>
                        يحتوي هذا الصنف على العناصر التالية:
                        <ul class="subsections">
                          <li>
                              <b>كائن (obj)</b><br/>
                              الكائن الذي يشير إليه هذا السند. في بعض الحالات قد تحتاج للوصول إلى الكائن نفسه مثلما هو الحال عندما
                              تحتاج مؤشرًا أو سندا اعتياديا للكائن أو في حالة الوصول إلى دالة للكائن باسم مطابق لإحدى دالات الصنف `سـندهم`.
                          </li>
                          <li>
                            <b>أنشئ (construct)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
دالة أنشئ؛
</pre>
                            تقوم هذه الدالة بحجز ذاكرة للكائن وتهيئته أيضًا. تهيئة الكائن تتم دون أي معطيات لذا لاستخدام هذه الدالة يحتاج
                            الكائن لتمكين التهيئة دون معطيات.
                          </li>
                          <li>
                            <b>حرر (release)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
  دالة حرر؛
</pre>
                            تصفر هذا السند وتحرر الكائن.
                          </li>
                        </ul>
                    </div>

                    <h4 class="foldable" id="Memory">الوحدة: ذاكـرة (Memory)</h4>
                    <div>
                        تحتوي وحدة `ذاكـرة` على الدالات التالية:
                        <ul class="subsections">
                            <li>
                                <b>احجز (alloc)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[malloc] دالة احجز (حجم: صـحيح[64]): مؤشر؛
</pre> مطابقة لدالة malloc من POSIX.
                            </li>
                            <li>
                                <b>أعد_الحجز (realloc)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[realloc] دالة أعد_الحجز (م: مؤشر، الحجم_الجديد: صـحيح[64]): مؤشر؛
</pre> مطابقة لدالة realloc من POSIX.
                            </li>
                            <li>
                                <b>احجز_مرصوف (allocAligned)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[aligned_alloc] دالة احجز_مرصوف (رصف: صـحيح[64]، حجم: صـحيح[64]): مؤشر؛
</pre> مطابقة لدالة aligned_alloc من POSIX.
                            </li>
                            <li>
                                <b>حرر (free)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[free] دالة حرر (م: مؤشر)؛
</pre> مطابقة لدالة free من POSIX.
                            </li>
                            <li>
                                <b>انسخ (copy)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[memcpy] دالة (مقصد: مؤشر، مصدر: مؤشر، حجم: صـحيح[64]): مؤشر؛
</pre> مطابقة لدالة memcpy من POSIX.
                            </li>
                            <li>
                                <b>قارن (compare)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[memcmp] دالة قارن (حيز1: مؤشر، حيز2: مؤشر: حجم: صـحيح[64]): صـحيح؛
</pre> مطابقة لدالة memcmp من POSIX.
                            </li>
                            <li>
                                <b>اضبط (set)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[memset] دالة (حيز: مؤشر، قيمة: صـحيح، عدد: صـحيح[64]): مؤشر؛
</pre> مطابقة لدالة memset من POSIX.
                            </li>
                        </ul>
                    </div>

                    <h4 class="foldable" id="Math">الوحدة: ريـاضيات (Math)</h4>
                    <div>
                        تحتوي وحدة `ريـاضيات` على الدالات التالية:
                        <ul class="subsections">
                            <li>
                                <b>مطلق (abs)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[abs] دالة مطلق (ع: صـحيح[32]): صـحيح[32]؛
@تصدير[llabs] دالة مطلق (ع: صـحيح[64]): صـحيح[64]؛
@تصدير[fabsf] دالة مطلق (ع: عـائم[32]): عـائم[32]؛
@تصدير[fabs] دالة مطلق (ع: عـائم[64]): عـائم[64]؛
</pre> للحصول على القيمة المطلقة لرقم.
                            </li>
                            <li>
                                <b>باقي (mod)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[fmodf] دالة باقي (س: عـائم[32]، ص: عـائم[32]): عـائم[32]؛
@تصدير[fmod] دالة باقي (س: عـائم[64]، ص: عـائم[64]): عـائم[64]؛
</pre> للحصول على باقي قسمة رقمين حقيقيين.
                            </li>
                            <li>
                                <b>أس_طبيعي (exp)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[expf] دالة (س: عـائم[32]): عـائم[32]؛
@تصدير[exp] دالة (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي exp و expf من POSIX.
                            </li>
                            <li>
                                <b>أس_طبيعي2 (exp2)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[exp2f] دالة أس_طبيعي2 (س: عـائم[32]): عـائم[32]؛
@تصدير[exp2] دالة أس_طبيعي2 (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي exp2 و exp2f من POSIX.
                            </li>
                            <li>
                                <b>لو (log)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[logf] دالة لو (س: عـائم[32]): عـائم[32]؛
@تصدير[log] دالة لو (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي log و logf من POSIX.
                            </li>
                            <li>
                                <b>لو2 (log2)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[log2f] دالة لو2 (س: عـائم[32]): عـائم[32]؛
@تصدير[log2] دالة لو2 (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي log2 و log2f من POSIX.
                            </li>
                            <li>
                                <b>لو10 (log10)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[log10f] دالة لو10 (س: عـائم[32]): عـائم[32]؛
@تصدير[log10] دالة لو10 (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي log10 و log10f من POSIX.
                            </li>
                            <li>
                                <b>جذر (sqrt)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[sqrtf] دالة جذر (س: عـائم[32]): عـائم[32]؛
@تصدير[sqrt] دالة جذر (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي sqrt و sqrtf من POSIX.
                            </li>
                            <li>
                                <b>جذر3 (cbrt)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[cbrtf] دالة جذر3 (س: عـائم[32]): عـائم[32]؛
@تصدير[cbrt] دالة جذر3 (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي cbrt و cbrtf من POSIX.
                            </li>
                            <li>
                                <b>ارفع (pow)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[powf] دالة ارفع (أساس: عـائم[32]، أس: عـائم[32]): عـائم[32]؛
@تصدير[pow] دالة ارفع (أساس: عـائم[64]، أس: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي pow و powf من POSIX.
                            </li>
                            <li>
                                <b>جا (sin)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[sinf] دالة جا (س: عـائم[32]): عـائم[32]؛
@تصدير[sin] دالة جا (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي sin و sinf من POSIX.
                            </li>
                            <li>
                                <b>جا_عكسي (asin)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[asinf] دالة جا_عكسي (س: عـائم[32]): عـائم[32]؛
@تصدير[asin] دلة جا_عكسي (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي asin و asinf من POSIX.
                            </li>
                            <li>
                                <b>جا_زائدي (sinh)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[sinhf] دالة جا_زائدي (س: عـائم[32]): عـائم[32]؛
@تصدير[sinh] دالة جا_زائدي (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي sinh و sinhf من POSIX.
                            </li>
                            <li>
                                <b>جا_زائدي_عكسي (asinh)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[asinhf] دالة جا_زائدي_عكسي (س: عـائم[32]): عـائم[32]؛
@تصدير[asinh] دالة جا_زائدي_عكسي (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي asinh و asinhf من POSIX.
                            </li>
                            <li>
                                <b>جتا (cos)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[cosf] دالة جتا (س: عـائم[32]): عـائم[32]؛
@تصدير[cos] دالة جتا (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي cos و cosf من POSIX.
                            </li>
                            <li>
                                <b>جتا_عكسي (acos)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[acosf] دالة جتا_عكسي (س: عـائم[32]): عـائم[32]؛
@تصدير[acos] دالة جتا_عكسي (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي acos و acosf من POSIX.
                            </li>
                            <li>
                                <b>جتا_زائدي (cosh)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[coshf] دالة جتا_زائدي (س: عـائم[32]): عـائم[32]؛
@تصدير[cosh] دالة جتا_عكسي (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي cosh و coshf من POSIX.
                            </li>
                            <li>
                                <b>جتا_زائجي_عكسي (acosh)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[acoshf] دالة جتا_زائجي_عكسي (س: عـائم[32]): عـائم[32]؛
@تصدير[asoch] دالة جتا_زائجي_عكسي (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي acosh و acoshf من POSIX.
                            </li>
                            <li>
                                <b>ظل (tan)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[tanf] دالة ظل (س: عـائم[32]): عـائم[32]؛
@تصدير[tan] دالة ظل (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي tan و tanf من POSIX.
                            </li>
                            <li>
                                <b>ظل_عكسي (atan)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[atanf] دالة ظل_عكسي (س: عـائم[32]): عـائم[32]؛
@تصدير[atan] دالة ظل_عكسي (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي atan و atanf من POSIX.
                            </li>
                            <li>
                                <b>ظل_عكسي2 (atan2)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[atan2f] دالة ظل_عكسي2 (ص: عـائم[32]، س: عـائم[32]): عـائم[32]؛
@تصدير[atan2] دالة ظل_عكسي2 (ص: عـائم[64]، س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي atan2 و atan2f من POSIX.
                            </li>
                            <li>
                                <b>ظل_زائدي (tanh)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[tanhf] دالة ظل_زائدي (س: عـائم[32]): عـائم[32]؛
@تصدير[tanh] دالة ظل_زائدي (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي tanh و tanhf من POSIX.
                            </li>
                            <li>
                                <b>ظل_زائدي_عكسي (atanh)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[atanhf] دالة ظل_زائدي_عكسي (س: عـائم[32]): عـائم[32]؛
@تصدير[atanh] جالة ظل_زائدي_عكسي (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي atanh و atanhf من POSIX.
                            </li>
                            <li>
                                <b>سقف (ceil)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[ceilf] دالة سقف (س: عـائم[32]): عـائم[32]؛
@تصدير[ceil] دالة سقف (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي ceil و ceilf من POSIX.
                            </li>
                            <li>
                                <b>جزء_صحيح (floor)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[floorf] دالة جزء_صحيح (س: عـائم[32]): عـائم[32]؛
@تصدير[floor] دالة جزء_صحيح (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي floor و floorf من POSIX.
                            </li>
                            <li>
                                <b>تقريب (round)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[roundf] دالة تقريب (س: عـائم[32]): عـائم[32]؛
@تصدير[round] دالة تقريب (س: عـائم[64]): عـائم[64]؛
</pre> مطابقة لدالتي round و roundf من POSIX.
                            </li>
                            <li>
                                <b>عشوائي (random)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[rand] دالة عشوائي (): صـحيح؛
</pre> مطابقة لدالة rand من POSIX.
                            </li>
                            <li>
                                <b>جهز_العشوائية (seedRandom)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[srand] دالة جهز_العشوائية (ب: طـبيعي[32])؛
</pre> مطابقة لدالة srand من POSIX.
                            </li>
                        </ul>
                    </div>

                    <h4 class="foldable" id="Net">الوحدة: شـبكة (Net)</h4>
                    <div>
                        تحتوي وحدة `شـبكة` على العناصر التالية:
                        <ul class="subsections">
                            <li>
                                <b>هات (get)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
1: عرف هات: دالة (الرابط: مؤشر[مصفوفة[مـحرف]]، الناتج: مؤشر[مؤشر]، حجم_الناتج: مؤشر[صـحيح]) => ثـنائي؛
2: عرف هات: دالة (الرابط: مؤشر[مصفوفة[مـحرف]]، اسم_الملف: مؤشر[مصفوفة[مـحرف]]) => ثـنائي؛
</pre> 1: تجلب المورد المحدد بالرابط وترجعه.<br> 2: تجلب المورد المحدد بالرابط وتخزنه في الملف المحدد.
                            </li>
                        </ul>
                    </div>

                    <h4 class="foldable" id="Console">الوحدة: طـرفية (Console)</h4>
                    <div>
                        تحتوي وحدة `طـرفية` على الدالات التالية:
                        <ul class="subsections">
                            <li>
                                <b>أدخل_محرفا (getChar)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[getchar] دالة (): صـحيح؛
</pre> مطابقة لدالة getchar من POSIX.
                            </li>
                            <li>
                                <b>أخرج_محرفا (putChar)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[putchar] دالة (محرف: صـحيح): صـحيح؛
</pre> مطابقة لدالة putchar من POSIX.
                            </li>
                            <li>
                                <b>اطبع (print)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
1. @تصدير[printf] دالة اطبع (نسق: مؤشر[مصفوفة[مـحرف]]، ...أيما): صـحيح؛
2. دالة اطبع (ص: صـحيح[64])؛
3. دالة اطبع (ع: عـائم[64])؛
4. دالة اطبع (ع: عـائم[64]، ص: صـحيح)؛
</pre> 1: مطابقة لدالة printf من POSIX.<br> 2: تطبع عدداً صحيحاً.<br> 3: تطبع عدداً عائماً.<br> 4: تطبع عدداً عائماً مع تحكم بعدد الأصفار على يمين الفاصلة.
                            </li>
                            <li>
                                <b>امسح (scan)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[scanf] دالة امسح (نسق: مؤشر[مصفوفة[مـحرف]]، ...أيما): صـحيح؛
</pre> مطابقة لدالة scanf من POSIX.
                            </li>
                            <li>
                                <b>أدخل_صحيح (getInt)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة أدخل_صحيح (): صـحيح؛
</pre> تطلب من المستخدم إدخال عدد صحيح.
                            </li>
                            <li>
                                <b>أدخل_عائم (getFloat)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة أدخل_عائم (): عـائم؛
</pre> تطلب من المستخدم إدخال عدد بفاصلة عائمة.
                            </li>
                            <li>
                                <b>أدخل_محارف (getString)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة أدخل_محارف (محارف: مؤشر[مصفوفة[مـحرف]]، عدد: طـبيعي)؛
</pre> تطلب من المستخدم إدخال سلسلة محارف.
                            </li>
                        </ul>

                        <h5 class="foldable">طـراز (Style)</h5>
                        <div>
                            تحتوي وحدة 'طـراز' على دالات للتحكم بطراز الكتابة في الطرفية. كل واحدة من هذه الدالات ترجع مؤشراً على مصفوفة محارف يمكن طباعتها في الطرفية للحصول على الطراز المطلوب.
                            <ul>
                                <li><b>صفر (reset)</b></li>
                                <li><b>لقب (bright)</b></li>
                                <li><b>خافت (dim)</b></li>
                                <li><b>مائل (italic)</b></li>
                                <li><b>خط_تحتي (underscore)</b></li>
                                <li><b>وميض (blink)</b></li>
                                <li><b>عكس (reverse)</b></li>
                                <li><b>مخفي (hidden)</b></li>
                                <li><b>كتابة_سوداء (fgBlack)</b></li>
                                <li><b>كتابة_حمراء (fgRed)</b></li>
                                <li><b>كتابة_خضراء (fgGreen)</b></li>
                                <li><b>كتابة_صفراء (fgYellow)</b></li>
                                <li><b>كتابة_زرقاء (fgBlue)</b></li>
                                <li><b>كتابة_أرجوانية (fgMagenta)</b></li>
                                <li><b>كتابة_سماوية (fgCyan)</b></li>
                                <li><b>كتابة_بيضاء (fgWhite)</b></li>
                                <li><b>خلفية_سوداء (bgBlack)</b></li>
                                <li><b>خلفية_حمراء (bgRed)</b></li>
                                <li><b>خلفية_خضراء (bgGreen)</b></li>
                                <li><b>خلفية_صفراء (bgYellow)</b></li>
                                <li><b>خلفية_زرقاء (bgBlue)</b></li>
                                <li><b>خلفية_أرجوانية (bgMagenta)</b></li>
                                <li><b>خلفية_سماوية (bgCyan)</b></li>
                                <li><b>خلفية_بيضاء (bgWhite)</b></li>
                            </ul>
                        </div>
                    </div>

                    <h4 class="foldable" id="System">الوحدة: نـظام (System)</h4>
                    <div>
                        تحتوي وحدة `نـظام` على التعريفات التالية:
                        <ul class="subsections">
                            <li>
                                <b>نم (sleep)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[usleep] دالة نم (ط: طـبيعي)؛
</pre> مطابقة لدالة usleep من POSIX.
                            </li>
                            <li>
                                <b>اضبط_متغير_محيطي (setEnv)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[setenv] دالة اضبط_متغير_محيطي (اسم: مؤشر[مصفوفة[مـحرف]]، قيمة: مؤشر[مصفوفة[مـحرف]]، استبدال: صـحيح): صـحيح؛
</pre> مطابقة لدالة setenv من POSIX.
                            </li>
                            <li>
                                <b>هات_متغير_محيطي (getEnv)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[getenv] دالة هات_متغير_محيطي (اسم: مؤشر[مصفوفة[مـحرف]]): مؤشر[مصفوفة[مـحرف]]؛
</pre> مطابقة لدالة getenv من POSIX.
                            </li>
                            <li>
                                <b>شغل (exec)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[system] دالة شغل (أمر: مؤشر[مصفوفة[مـحرف]]): صـحيح؛
</pre> مطابقة لدالة system من POSIX.
                            </li>
                            <li>
                                <b>اخرج (exit)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[exit] دالة اخرج (رمز_الخروج: صـحيح)؛
</pre> مطابقة لدالة exit من POSIX.
                            </li>
                        </ul>
                    </div>

                    <h4 class="foldable" id="Fs">الوحدة: نـم (Fs)</h4>
                    <div>
                        تحتوي وحدة `نـم` على الدالات والعناصر التالية للتعامل مع نظام الملفات:
                        <ul class="subsections">
                            <li>
                                <b>قـيد_مجلد (DirEnt)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
عرف قـيد_مجلد: صنف
{
  عرف نوع: صـحيح[8]؛
  عرف اسم: مصفوفة[مـحرف، 256]؛
}</pre>
                                <pre class="code" dir=ltr>
def DirEnt: type {
  def dType: Int[8];
  def dName: array[Char, FILENAME_LENGTH];
};</pre> سجل معلومات عنصر من عناصر المجلد.
                            </li>
                            <br>

                            <li>
                                <b>اسـماء_ملفات (FileNames؛)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
عرف اسـماء_ملفات: صنف
{
  عرف عدد: صـحيح؛
  عرف اسماء: مصفوفة[مصفوفة[مـحرف، 256]]؛
}</pre>
                                <pre class="code" dir=ltr>
def FileNames: type
{
  def count: Int;
  def names: array[array[Char, FILENAME_LENGTH]];
};</pre> قائمة بأسماء ملفات.
                            </li>
                            <br>

                            <li>
                                <b>انـتقال (Seek)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
عرف انـتقال: {
  عرف _بداية_: لقب 0؛
  عرف _حالي_: لقب 1؛
  عرف _نهاية_: لقب 2؛
}؛</pre>
                                <pre class="code" dir=ltr>
def Seek: {
  def SET: 0;
  def CUR: 1;
  def END: 2;
};</pre> ثوابت التعامل مع دالة الانتقال.
                            </li>
                            <br>

                            <li>
                                <b>يوجد (exists)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة يوجد (اسم_الملف: مؤشر[مصفوفة[مـحرف]]): ثـنائي؛
</pre> تفحص وجود ملف أو مجلد معين.
                            </li>
                            <li>
                                <b>اعد_التسمية (rename)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[rename] دالة أعد_التسمية (الاسم_القديم: مؤشر[مصفوفة[مـحرف]]، الاسم_الجديد: مؤشر[مصفوفة[مـحرف]]): صـحيح؛
</pre> تعيد تسمية ملف أو مجلد.
                            </li>
                            <li>
                                <b>امح (remove)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[remove] دالة امح (اسم_الملف: مؤشر[مصفوفة[مـحرف]]): ثـنائي؛
</pre> تزيل ملفًا أو مجلدًا.
                            </li>
                            <li>
                                <b>افتح_ملف (openFile)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[fopen] دالة افتح_ملف (اسم_الملف: مؤشر[مصفوفة[مـحرف]]، الوضع: مؤشر[مصفوفة[مـحرف]]): مؤشر[مـلف]؛
</pre> مطابقة لدالة fopen من POSIX.
                            </li>
                            <li>
                                <b>اغلق_ملف (closeFile)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[fclose] دالة اغلق_ملف (ملف: مؤشر[مـلف]): صـحيح؛
</pre> مطابقة لدالة fclose من POSIX.
                            </li>
                            <li>
                                <b>اطبع (print)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[frpintf] دالة اطبع (ملف: مؤشر[مـلف]، نسق: مؤشر[مصفوفة[مـحرف]]، ...أيما): صـحيح؛
</pre> مطابقة لدالة fprintf من POSIX.
                            </li>
                            <li>
                                <b>امسح (scan)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[fscanf] دالة امسح (ملف: مؤشر[مـلف]، نسق: مؤشر[مصفوفة[مـحرف]]، ...أيما): صـحيح؛
</pre> مطابقة لدالة fscanf من POSIX.
                            </li>
                            <li>
                                <b>اكتب (write)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[fwrite] دالة اكتب (محتوى: مؤشر، حجم: صـحيح، عدد: صـحيح، ملف: مؤشر[مـلف]): صـحيح؛
</pre> مطابقة لدالة fwrite من POSIX.
                            </li>
                            <li>
                                <b>اقرأ (read)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[fread] دالة اقرأ (محتوى: مؤشر، حجم: صـحيح، عدد: صـحيح، ملف: مؤشر[مـلف]): صـحيح؛
</pre> مطابقة لدالة fread من POSIX.
                            </li>
                            <li>
                                <b>اطلق (flush)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[fflush] دالة اطلق (ملف: مؤشر[مـلف]): صـحيح؛
</pre> مطابقة لدالة fflush من POSIX.
                            </li>
                            <li>
                                <b>هات_الموقع (tell)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[ftell] دالة هات_الموقع (ملف: مؤشر[مـلف]): صـحيح؛
</pre> مطابقة لدالة tell من POSIX.
                            </li>
                            <li>
                                <b>انتقل (seek)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[fseek] دالة انتقل (ملف: مؤشر[مـلف]، إزاحة: صـحيح، انتقال: صـحيح): صـحيح؛
</pre> مطابقة لدالة tell من POSIX.
                            </li>
                            <li>
                                <b>أنشئ_ملف (createFile)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة أنشئ_ملف (اسم_الملف: مؤشر[مصفوفة[مـحرف]]، محتوى: مؤشر، حجم_المحتوى: صـحيح): ثـنائي؛
</pre> تنشئ ملفًا وتخزن فيه المحتوى المعطى.
                            </li>
                            <li>
                                <b>اقرأ_ملف (readFile)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة اقرأ_ملف (اسم_الملف: مؤشر[مصفوفة[مـحرف]]، ناتج: مؤشر[مؤشر]، حجم: مؤشر[صـحيح]): ثـنائي؛
</pr>
تقرأ المحتوى الكامل لملف وترجعه.
                            </li>
                            <li>
                                <b>انشئ_مجلد (makeDir)</b><br/>
<pre class="code" dir=rtl style="text-align:right;">
دالة أنشئ_مجلد (اسم_المجلد: مؤشر[مصفوفة[مـحرف]]، الوضع: صـحيح): ثـنائي؛
</pre> تنشئ مجلدًا جديدًا.
                            </li>
                            <li>
                                <b>افتح_مجلد (openDir)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[opendir] دالة (اسم_المجلد: مؤشر[مصفوفة[مـحرف]]): مؤشر؛
</pre> مطابقة لدالة opendir من POSIX.
                            </li>
                            <li>
                                <b>اغلق_مجلد (closeDir)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[closedir] دالة (مجلد: مؤشر[مـجلد]): صـحيح؛
</pre> طابقة لدالة closedir من POSIX.
                            </li>
                            <li>
                                <b>صفر_مؤشر_مجلد (rewindDir)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[rewindDir] دالة صفر_مؤشر_مجلد (مجلد: مؤشر[مـجلد])؛
</pre> مطابقة لدالة rewinddir من POSIX.
                            </li>
                            <li>
                                <b>اقرأ_مجلد (readDir)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
1. @تصدير[readdir] دالة اقرأ_مجلد (مجلد: مؤشر[مـجلد]): مؤشر[قـيد_مجلد]؛
2. دالة اقرأ_مجلد (اسم_المجلد: مؤشر[مصفوفة[مـحرف]]): مؤشر
</pre> 1: مطابقة لدالة readdir من POSIX.<br> 2: ترجع قائمة بأسماء الملفات في مجلد معين.
                            </li>
                        </ul>
                    </div>

                    <h4 class="foldable" id="Regex">الوحدة: نـمط (Regex)</h4>
                    <div>
                        تحتوي وحدة `نـمط` على دالات للتعامل مع التعابير النمطية.
                        <ul class="subsections">
                            <li>
                                <b>طابق (match)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
دالة طابق (نمط: مؤشر[مصفوفة[مـحرف]]، محارف: مؤشر[مصفوفة[مـحرف]]، خيارات: صـحيح): مـصفوفة[نـص]؛
</pre> تطبق النمط المعطى على سلسلة المحارف المعطاة وترجع مصفوفة من النصوص. في حالة وجود تطابق تحمل المصفوفة التطابق الكامل للنمط في أول عنصر من المصفوفة بينما تحمل العناصر التالية التطابقات الجزئية المحددة ضمن النمط بالأقواس.
                                في حالة عدم وجود تطابق تكون النتيجة مصفوفة فارغة.
                            </li>
                        </ul>
                    </div>

                    <h4 class="foldable" id="Time">الوحدة: وقـت (Time)</h4>
                    <div>
                        تحتوي وحدة `وقـت` على التعريفات التالية:
                        <ul class="subsections">
                            <li>
                                <b>وقـت (Time)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
صنف وقـت_مفصل {
  عرف ثانية: صـحيح؛
  عرف دقيقة: صـحيح؛
  عرف ساعة: صـحيح؛
  عرف يوم: صـحيح؛
  عرف شهر: صـحيح؛
  عرف سنة: صـحيح؛
  عرف يوم_اسبوعي: صـحيح؛
  عرف يوم_سنوي: صـحيح؛
  عرف إزاحة_زمنية: صـحيح؛
  عرف منطقة_زمنية: صـحيح؛
}؛
</pre>
                                <pre class="code" dir=ltr>
type DetailedTime {
  def second: Int;
  def minute: Int;
  def hour: Int;
  def day: Int;
  def month: Int;
  def year: Int;
  def weekDay: Int;
  def yearDay: Int;
  def daylightSaving: Int;
  def timezoneOffset: Int[64];
  def timezone: ptr[array[Char]];
};
</pre> سجل لحمل معلومات الوقت والتاريخ.
                            </li>
                            <li>
                                <b>هات_وقـت_مفصل (getDetailedTime)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
1. @تصدير[localtime] دالة هات_وقـت_مفصل (خز: مؤشر[طـبيعي[64]]): مؤشر[وقـت_مفصل]؛
2. @تصدير[localtime_r] دالة هات_وقت_مفصل (خز: مؤشر[طـبيعي[64]]، مؤشر[وقـت_مفصل]): مؤشر[وقـت_مفصل]؛
</pre> 1. مطابقة لدالة localtime من POSIX. <br> 2. مطابقة لدالة localtime_r من POSIX.
                            </li>
                            <li>
                                <b>هات_الختم_الزمني (getTimestamp)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[time] دالة هات_الختم_الزمني (نتيجة: مؤشر[طـبيعي[64]]): مؤشر[طـبيعي[64]]؛
</pre> مطابقة لدالة time من POSIX.
                            </li>
                            <li>
                                <b>هات_الساعة (getClock)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[clock] دالة هات_الساعة (): صـحيح[64]؛
</pre> مطابقة لدالة clock من POSIX.
                            </li>
                            <li>
                                <b>إلى_نص (toString)</b><br/>
                                <pre class="code" dir=rtl style="text-align:right;">
@تصدير[clock] دالة إلى_نص (خز: مؤشر[طـبيعي[64]]): مؤشر[مصفوفة[مـحرف]]؛
</pre> مطابقة لدالة ctime من POSIX.
                            </li>
                        </ul>
                    </div>

                    <h4 class="foldable" id="Srl-other">تعريفات أخرى</h4>
                    <div>
                      <ul>
                        <li><b>مثل_سند (castRef)</b><br>
                          ماكرو لتسهيل تمثيل سند كسند لصنف مختلف. يستلم معطيين، الأول هو المتغير المراد تمثيله، والثاني هو الصنف المراد التمثيل إلى سنده.
                        </li>
                        <br>

                        <li><b>سند_لعدم (nullRef)</b><br>
                          ماكرو يعطيك سندًا قيمة مؤشره 0. يأخذ معطىً واحدًا هو الصنف المراد الحصول على سنده.
                        </li>
                        <br>

                        <li><b>هات_المسار_الكامل_لهذه_الشفرة (getThisSourceFullPath)</b><br>
                          ماكرو يعطيك سلسلة محارف حرفية (string literal) تحتوي على المسار الكامل لملف الشفرة المصدرية الحالي. لا يأخذ هذا الماكرو أي معطيات.
                        </li>
                        <br>
                      </ul>
                    </div>
                </div>

                <br>
                <h3 id="Build">دليل مكتبة `بـناء` (Build)</h3>
                <hr>
                <div>
                    مكتبة `بـناء` تمكن المستخدم من بناء ملف تنفيذي لبرنامجه. تحتوي المكتبة على العناصر التالية:
                    <h4 id="Build-Exe">الصنف: تـنفيذي (Exe)</h4>
                    <div>
                        يمكّن المستخدم من بناء ملف تنفيذي لبرنامجه يعمل على نظام التشغيل الحالي. يحتاج هذا الصنف لتوفر أدوات gcc على نظام التشغيل.
                        بناء ملف تنفيذي يتم بالخطوات التالي:
                        <ul>
                          <li>
                            إنشاء كائن من صنف `تـنفيذي` (Exe) وإعطائه مؤشرًا على
                            عنصر الشفرة المصدرية المراد تحويله إلى ملف تنفيذي بالإضافة إلى اسم الملف التنفيذي المراد بناؤه.
                            يمكن الحصول على مؤشر العنصر باستخدام الأمر `~شبم` (~ast).
                          </li>
                          <li>
                            إضافة أي اعتماديات باستخدام الدالة `تـنفيذي.اضف_اعتمادية` (addDependency) وإعطائها مؤشرا على
                            الوحدة التي يعتمد عليها البرنامج. لاحظ أن إضافة الاعتمادية مطلوب فقط في حالة احتياج الوحدة إلى مكتبات
                            خارجية (تحدد الوحدة ما تحتاجه من مكتبات خارجية باستخدام المبدل `@اعتماديات` (@deps))، أما لو لم
                            تحتج الوحدة لمكتبات خارجية فلا حاجة لإضافتها كإعتمادية بشكل يدوي وإنما يفعل المترجم ذلك تلقائيا.<br>
                            يمكن أيضًا إعطاء الدالة إسم ملف الاعتمادية بدل إعطائها مؤشرا على وحدة، ويمكن في حالة استخدام أسماء
                            ملفات للاعتماديات استخدام الدالة `أضف_اعتماديات` (addDependencies) لتمرير عدة اعتماديات مرة واحدة.
                          </li>
                          <li>
                            إضافة أي خيارات إضافية يحتاجها المُجمِّع (linker) باستخدام الدالة `أضف_خيار` (addFlag) أو الدالة `أضف_خيارات` (addFlags).
                          </li>
                          <li>
                            إنشاء الملف التنفيذي باستدعاء الدالة `تـنفيذي.أنتج` (generate).
                          </li>
                        </ul>
                        المثال التالي يوضح هذه الخطوات:
<pre class="samplecode" dir=rtl style="text-align:right;">
  عرف تنفيذي: مؤشر[بـناء.تـنفيذي](الـبسملة.ابدأ~شبم، "البسملة")؛
  تنفيذي.أضف_اعتمادية(جـتك~شبم)؛ // أو: تنفيذي.أضف_اعتمادية(نـص("libgtk..."))؛
  تنفيذي.أضف_خيار("-Wl,-rpath,@executable_path")؛
  إذا تنفيذي.أنتج() {
    مـتم.طـرفية.اطبع("اكتمل البناء.\ج")؛
  } وإلا {
    مـتم.طـرفية.اطبع("فشل البناء.\ج")؛
  }؛
</pre>
<pre class="samplecode" dir=ltr>
  def exe: ptr[Build.Exe](WidgetGuide.start~ast, "hello_world");
  exe.addDependency(Gtk~ast); // or exe.addDependency(String("libgtk...."));
  exe.addFlag("-Wl,-rpath,@executable_path");
  if exe.generate() {
    Srl.Console.print("Build complete.\n");
  } else {
    Srl.Console.print("Build failed.\n");
  };
</pre>
                          الشفرة التالية توضح كيف يمكن لمطوري المكتبات إضافة معلومات الاعتماديات الخارجية إلى وحداتهم:
<pre class="samplecode" dir=rtl style="text-align:right;">
  @اعتماديات["libmyextlib.so"] وحدة مـكتبتي {
    ...
  }؛
</pre>
<pre class="samplecode" dir=ltr>
  @deps["libmyextlib.so"] module MyLib {
    ...
  };
</pre>
                      بدون إضافة المبدل `@اعتماديات` فإن الدالة `أضف_اعتمادية` لا تفعل شيئا.
                    </div>

                    <h4 id="Build-Wasm">الصنف: ويـب_أسمبلي (Wasm)</h4>
                    <div>
                      هذا الصنف مشابه لصنف `تـنفيذي` ويستخدم بنفس الطريقة لكنه يولد شفرة ويب أسيمبلي بدل شفرة تستهدف
                      نظام التشغيل ومعمارية الجهاز الحالي. يحتاج هذا الصنف لوجود أداة wasm-ld على نظام التشغيل. مثال:
<pre class="samplecode" dir=rtl style="text-align:right;">
  عرف ويب_أسمبلي: مؤشر[بـناء.ويـب_أسمبلي](الـبسملة.ابدأ~شبم، "البسملة")؛
  ويب_أسمبلي.أضف_اعتمادية(نـص("stdlib.wasm"))؛
  ويب_أسمبلي.أضف_خيارات({ نـص("--export=malloc"), نـص("--export=realloc") });
  إذا ويب_أسمبلي.أنتج() {
    مـتم.طـرفية.اطبع("اكتمل البناء.\ج")؛
  } وإلا {
    مـتم.طـرفية.اطبع("فشل البناء.\ج")؛
  }؛
</pre>
<pre class="samplecode" dir=ltr>
  def wasm: ptr[Build.Wasm](HelloWorld.start~ast, "hello_world");
  wasm.addDependency(String("stdlib.wasm"));
  wasm.addFlags({ String("--export=malloc"), String("--export=realloc") });
  if wasm.generate() {
    Srl.Console.print("Build complete.\n");
  } else {
    Srl.Console.print("Build failed.\n");
  };
</pre>
                    </div>

                    <h4 id="Build-genExecutable">الدالة: أنشئ_تنفيذي (genExeceutable)</h4>
                    <div>
                      دالة مساعدة لإنشاء ملف تنفيذي في خطوة واحدة. تنفع هذه الدالة فقط في حالة عدم احتياج عملية البناء لأي اعتماديات
                      أو خيارات إضافية. هذه الدالة مجرد وسيط للصنف `تـنفيذي` (Exe)، فهي داخليا تستخدم الصنف `تـنفيذي` لإنجاز العمل.
<pre class="samplecode" dir=rtl style="text-align:right;">
  بـناء.أنشئ_تنفيذي(ابدأ~شبم، "بسملة")؛
</pre>
<pre class="samplecode" dir=ltr>
  Build.genExecutable(start~ast, "hello_world");
</pre>
                    </div>

                    <h4 id="Build-genWasm">الدالة: أنشئ_ويب_أسمبلي (genWasm)</h4>
                    <div>
                      دالة مساعدة لإنشاء ملف ويب أسمبلي في خطوة واحدة. تنفع هذه الدالة فقط في حالة عدم احتياج عملية البناء لأي اعتماديات
                      أو خيارات إضافية. هذه الدالة مجرد وسيط للصنف `ويـب_أسمبلي` (Wasm)، فهي داخليا تستخدم الصنف `ويـب_أسمبلي` لإنجاز العمل.
<pre class="samplecode" dir=rtl style="text-align:right;">
  بـناء.أنشئ_ويب_أسمبلي(ابدأ~شبم، "بسملة")؛
</pre>
<pre class="samplecode" dir=ltr>
  Build.genWasm(start~ast, "hello_world");
</pre>
                    </div>
                </div>

                <br>
                <h3 id="Zip">دليل مكتبة `ضـغط` (Zip)</h3>
                <hr>
                <div>
                    تحتوي وحدة `ضـغط` على الدالات التالية:
                    <ul class="subsections">
                        <li>
                            <b>استخرج_من_ملف (extractFromFile)</b><br/>
                            <pre class="code" dir=rtl style="text-align:right;">
عرف استخرج_من_ملف: دالة (
  اسم_الملف: مؤشر[مصفوفة[مـحرف]]، اسم_المجلد: مؤشر[مصفوفة[مـحرف]]،
  مستلم_الاشعارات: مؤشر[دالة (مؤشر[مصفوفة[مـحرف]]، مؤشر) => صـحيح]، معطيات: مؤشر
) => صـحيح؛
</pre> تستخرج ملفًا مضغوطا إلى المجلد المحدد.
                        </li>
                        <li>
                            <b>اضغط_إلى_ملف (compressToFile)</b><br/>
                            <pre class="code" dir=rtl style="text-align:right;">
عرف اضغط_إلى_ملف: دالة (
  اسم_المف: مؤشر[مصفوفة[مـحرف]]، ملفات: مؤشر[مصفوفة[مؤشر[مصفوفة[مـحرف]]]]، عدد_الملفات: صـحيح،
  نوع_الاستخراج: مؤشر[مصفوفة[مـحرف]]
) => صـحيح؛
</pre> تنشئ ملفًا مضغوطا يحتوي على الملفات المعطاة.
                        </li>
                    </ul>
                </div>

                <br>
                <h3 id="Apm">دليل مدير الحزم</h3>
                <hr>
                <div>
                    مدير حزم الأسس (محا أو apm) ينزل الحزم مباشرة من موقع GitHub ويمكن استخدامه عبر سطر الأوامر أو من داخل البرنامج مباشرة.<br> للحصول على تعليمات استخدام مدير الحزم من سطر الأوامر اكتب الأمر التالي:
                    <pre class="code" dir=rtl style="text-align:right;">
$ محا مساعدة
</pre>
                    <pre class="code" dir=ltr>
$ apm help
</pre> أما استخدام مدير الحزم من داخل البرنامج فيتم باستخدام دالة `اشمل_ملف` (importFile).
                    <pre class="code" dir=rtl style="text-align:right;">
اشمل "مـحا.أسس"؛
مـحا.اشمل_ملف("&lt;الناشر&gt;/&lt;اسم الحزمة&gt;" [, "&lt;اسم الملف&gt;"])؛
</pre>
                    <pre class="code" dir=ltr>
import "Apm.alusus";
Apm.importFile("&lt;author&gt;/&lt;pkg name&gt;" [, "&lt;filename&gt;"]);
</pre> أثناء تطوير الحزم غالبا ما يحتاج المطور لتجربة الحزمة محليًا قبل دفع التعديلات إلى المستودع. يمكن للمستخدم استخدام أمر الربط لربط حزمة معينة مع مجلد محلي فيقوم عندها مدير الحزم باستخدام النسخة المحلية بدل تنزيل نسخة المستودع.
                    أمر الربط يجب أن يُنفذ داخل مجلد المشروع الذي يستخدم الحزمة ويكون بهذه الصيغة:
<pre class="samplecode" dir=ltr>
$ cd &lt;example_project_folder&gt;
$ apm link &lt;author&gt;/&lt;package_name&gt;@&lt;release&gt; &lt;path_to_local_package_copy&gt;
</pre> يمكن إزالة الرابط باستخدام الأمر `افصل` وبهذه الصيغة:
                    <pre class="samplecode" dir=ltr>
$ cd &lt;example_project_folder&gt;
$ apm unlink &lt;author&gt;/&lt;package_name&gt;@&lt;release&gt;
</pre>
                </div>

                <!-- ********************************************************************** -->
                <br>
                <h3 id="Core">دليل الوحدة `الـقلب` (Core)</h3>
                <hr>
                <div>
                  تحوي الوحدة `الـقلب` على التعريفات التي تتيح للمبرمج التعامل مع القلب بشكل مباشر داخل برنامجه أو مكتبته.
                  هذه الوحدة تحوي تعريفات لبعض الأصناف والدالات التي يستخدمها القلب أثناء معالجة الملفات المصدرية وبالتالي
                  تتيح للمبرمج التعامل المباشر مع القلب ومع البيانات التي ينشئها. ليس كل ما في الـقلب موجود ضمن تعريفات هذه
                  الوحدة، فبعض الأصناف معرفة فقط ضمن شفرة السي++ التي كُتب بها القلب وهي داخلية لا يحتاج المبرمج التعامل معها
                  من داخل شفرة الأسس.

                  <h4 id="Core-importFile">الدالة: اشمل_ملف (importFile)</h4>
                  <div>
<pre class="code" dir=rtl style="text-align:right;">
  دالة اشمل_ملف (اسم_الملف: مؤشر[مصفوفة[مـحرف]])؛
</pre>
                    تشمل الملف المعطى اسمه. هذه الدالة تعمل عمل الإيعاز `اشمل` (import) ولا تختلف عن ذلك الإيعاز سوى بقدرتها
                    على شمول الملفات بشكل ديناميكي، أي باستخدام اسم ملف مولّد ديناميكيًا أثناء التنفيذ.
                  </div>

                  <h4 id="Core-typesInfo">هوية الأصناف</h4>
                  <div>
                    في الوحدة <span class="inlinecode">القـلب.أسـاسيات (Core.Basic)</span> يوجد تعريفات لتمكين الأصناف من توفير معلومات عن هوية الصنف بشكل
                    ديناميكي (run time type info). أغلب الأصناف المستخدمة في القلب ومكتبة نمط البناء المعياري تحمل معها
                    معلومات الهوية. فيما يلي التعريفات التي توفر معلومات هوية الأصناف:

                    <h5 id="Core-TiObjectFactory">الصنف: مـصنع_كائن_بهوية (TiObjectFactory)</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.أسـاسيات (Core.Basic)</span>.<br>
                      هذا الصنف يستخدم لتمكين إنشاء كائنات جديدة ديناميكيًا من هوية صنف معين، أي أن هوية الصنف تحوي سندًا
                      لهذا المصنع. وبالتالي إن كان عندك سند لكائن بهوية فيمكن عن طريق هوية الكائن الوصول لمصنعه وإنشاء
                      كائنات جديدة من نفس الصنف. يحتوي مـصنع_كائن_بهوية على مؤشرات الدالات التالية:
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">أنشئ_محتكر (createPlain)</span><br/>
<pre class="code" dir=rtl style="text-align:right;">
  عرف أنشئ_محتكر: مؤشر[@مشترك @دون_ربط دالة (): سند[كـائن_بهوية]]؛
</pre>
<pre class="code" dir=ltr>
  def createPlain: ptr[@shared @no_bind function ():ref[TiObject]];
</pre>
                          تنشئ كائنًا وترجع سندا اعتياديًا له بعد تهيئته.
                        </li>
                        <li>
                          <span class="inlinecode">أنشئ_مشترك (createShared)</span><br/>
<pre class="code" dir=rtl style="text-align:right;">
  عرف أنشئ_مشترك: مؤشر[@مشترك @دون_ربط دالة (): سـندنا[كـائن_بهوية]]؛
</pre>
<pre class="code" dir=ltr>
  def createShared؛: ptr[@shared @no_bind function ():SrdRef[TiObject]];
</pre>
                            تنشئ كائنًا وترجع سندا مشتركًا له بعد تهيئته.
                          </li>
                        <li>
                          <span class="inlinecode">هيئ (initialize)</span><br/>
<pre class="code" dir=rtl style="text-align:right;">
  عرف هيئ: مؤشر[@مشترك @دون_ربط دالة (سند[كـائن_بهوية])]؛
</pre>
<pre class="code" dir=ltr>
  def initialize: ptr[@shared @no_bind function (ref[TiObject])];
</pre>
                          تهيئ كائنًا محجوز في الذاكرة مسبقًا.
                        </li>
                        <li>
                          <span class="inlinecode">أتلف (terminate)</span><br/>
<pre class="code" dir=rtl style="text-align:right;">
  عرف أتلف: مؤشر[@مشترك @دون_ربط دالة (سند[كـائن_بهوية])]؛
</pre>
<pre class="code" dir=ltr>
  def terminate: ptr[@shared @no_bind function (ref[TiObject])];
</pre>
                          تتلف كائنًا دون تحرير ذاكرته.
                        </li>
                      </ul>
                    </div>

                    <h5 id="Core-TypeInfo">الصنف: هـوية_صنف (TypeInfo)</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.أسـاسيات (Core.Basic)</span>.<br>
                      يحمل معلومات عن هوية صنف معين. تشمل هذه المعلومات اسم الصنف والوحدة التي ينتمي إليها ومصنع الكائنات
                      وغيرها، ويحوي المتغيرات التالية:
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">اسم_الصنف (typeName): نـص</span><br>
                          نص يحمل اسم الصنف دون المسار الكامل.
                        </li>
                        <li>
                          <span class="inlinecode">مسار_الصنف (typeNamespace): نـص</span><br>
                          نص يحمل مسار الصنف الكامل دون اسم الصنف. فإذا كان عندك صنف <span class="inlinecode">وحـدة_خارجية.وحـدة_داخلية.صـنفي</span>
                          فإن هذا المتغير سيحوي القيمة `وحـدة_خارجية.وحـدة_داخلية`.
                        </li>
                        <li>
                          <span class="inlinecode">اسم_الحزمة (packageName): نـص</span><br>
                          نص يحمل اسم الحزمة التي تحوي الصنف. على سبيل المثال، كل الأصناف المعرفة داخل القلب تحمل اسم
                          الحزمة Core، بينما الأصناف المعرفة داخل مكتبة نمط البناء المعياري تحمل اسم الحزمة Spp.
                        </li>
                        <li>
                          <span class="inlinecode">الرابط (url): نـص</span><br>
                          رابط الحزمة على الشبكة العنكبوتية. الأسس لا تتعامل مع الرابط بشكل مباشر وإنما تعامله فقط كمعلومة
                          للمستخدم لتمييز الصنف في حالة تشابه الأسماء.
                        </li>
                        <li>
                          <span class="inlinecode">الاسم_الفريد (uniqueName): نـص</span><br>
                          سلسلة محارف تتكون من جمع المعلومات أعلاه في معرف واحد فريد.
                        </li>
                        <li>
                          <span class="inlinecode">هوية_صنف_السلف (baseTypeInfo): سند[هـوية_صنف]</span><br>
                          سند لهوية سلف هذا الصنف، أي لهوية الصنف الذي أُشتُق منه هذا الصنف. تكون السند صفرًا إن لم يمكن
                          لهذا الصنف سلف.
                        </li>
                        <li>
                          <span class="inlinecode">مصنع_الكائنات (objectFactory): سند[مـصنع_كائن_بهوية]</span><br>
                          سند للمصنع الذي يُنشئ كائنات من هذا الصنف.
                        </li>
                      </ul>
                    </div>

                    <h5 id="Core-TiObject">الصنف: كـائن_بهوية (TiObject)</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.أسـاسيات (Core.Basic)</span>.<br>
                      الجذر لكل الأصناف الحاملة لهوية. يوفر إمكانية الوصول إلى هوية الصنف بالإضافة إلى الوصول إلى الوسطاء
                      التي يدعمها الصنف ويوفر أيضًا إمكانية التمثيل الديناميكي (dynamic casting). يحتوي هذا الصنف على
                      العناصر التالية:
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">هات_هويتي (getMyTypeInfo)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_هويتي (): سند[هـوية_صنف]؛
</pre>
                          تعطيك سندًا لهوية هذا الكائن.
                        </li>
                        <li>
                          <span class="inlinecode">أمشتق_من (isDerivedFrom)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة أمشتق_من (سند[هـوية_صنف]): ثـنائي؛
</pre>
                          تُعلمك إن كان الكائن من الصنف ذي الهوية المعطاة، أو من صنف مشتق من ذلك الصنف.
                        </li>
                        <li>
                          <span class="inlinecode">هات_وسيط (getInterface)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_وسيط (سند[هـوية_صنف]): سند[وسـيط_بهوية]؛
</pre>
                          تستقبل سندًا لهوية وسيط وترجع سندًا لذلك الوسيط إن وجد، وإن لم يكن ذلك الوسيط مدعوما من هذا
                          الكائن فترجع صفرًا.
                        </li>
                      </ul>
                    </div>

                    <h5 id="Core-TiInterface">الصنف: وسـيط_بهوية (TiInterface)</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.أسـاسيات (Core.Basic)</span>.<br>
                      الجذر لكل أصناف الوسطاء. يوفر إمكانية الوصول إلى هوية الوسيط بالإضافة للوصول إلى الكائن الذي يملك
                      الوسيط. يحتوي هذا الصنف على العناصر التالية:
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">هات_هويتي (getMyInterfaceInfo)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_هويتي (): سند[هـوية_صنف]؛
</pre>
                          تعطيك سندًا لهوية هذا الوسيط.
                        </li>
                        <li>
                          <span class="inlinecode">هات_الكائن (getTiObject)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_الكائن (): سند[كـائن_بهوية]؛
</pre>
                          تُرجع الكائن الذي يملك هذا الوسيط.
                        </li>
                      </ul>
                    </div>

                    <h5 id="Core-getInterface">الماكرو: هات_الوسيط (getInterface)</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.أسـاسيات (Core.Basic)</span>.<br>
                      ماكرو لتسهيل الحصول على وسيط من كائن محدد. يستخدم بهذه الطريقة:
<pre class="code" dir=rtl style="text-align:right;">
  وسيط~عطل_التتبع = هات_الوسيط[كائن، صـنف_الوسيط]
</pre>
                    </div>

                    <h5 id="Core-isDerivedFrom">الماكرو: أمشتق_من (isDerivedFrom)</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.أسـاسيات (Core.Basic)</span>.<br>
                      يفحص ما إذا كان الكائن المعطى مشتقًا من الصنف المعطى، ويستخدم كالتالي:
<pre class="code" dir=rtl style="text-align:right;">
  إذا أمشتق_من[كائن، صـنف_الكائن] { ... }
</pre>
                    </div>

                    <h5 id="Core-defDynCastedRef">الماكرو: عرف_سندا_بتمثيل_آمن (defDynCastedRef)</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.أسـاسيات (Core.Basic)</span>.<br>
                      ماكرو مساعد يختصر عملية تمثيل الصنف ديناميكيًا وخزن النتيجة في متغير جديد. مثال:
<pre class="code" dir=rtl style="text-align:right;">
  دالة اختبار (كائن_جذري: سند[صـنف_الجذر]) {
    عرف_سندا_بتمثيل_آمن[كائن_فرعي، كائن_جذري، صـنف_الفرع]؛
    إذا كائن_فرعي~مؤشر != 0 كائن_فرعي.عملية(...)؛
  }
</pre>
                    </div>
                  </div>

                  <h4 id="Core-basicTypes">أصناف أساسية</h4>
                  <div>
                    معرفة داخل الوحدة <span class="inlinecode">الـقلب.أسـاسيات (Core.Basic)</span>.<br>
                    تتوفر مجموعة من الأصناف تقابل الأصناف الأساسية مثل الأعداد الصحيحة والنصوص، لكنها مشتقة من
                    <span class="inlinecode">كـائن_بهوية</span> وبالتالي يمكن التعرف عليها والتعامل معها بسهولة أثناء
                    التنفيذ. هذه الأصناف تعرف عمليات المساواة والتهيئة بالإضافة للعناصر التالية:
                    <ul class="subsections">
                      <li>
                        <span class="inlinecode">القيمة (value)</span><br>
                        المتغير الذي يحوي القيمة الأصلية بصنفها الأساسي.
                      </li>
                      <li>
                        <span class="inlinecode">أنشئ (create)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  @مشترك دالة أنشئ (ق: الـصنف_الأساسي): سـندنا[صـنف_المعلومة]
</pre>
                        تنشئ كائنًا من هذا الصنف بالقيمة المعطاة وترجع سندًا مشتركًا للكائن.
                      </li>
                      <li>
                        <span class="inlinecode">هات_هوية_الصنف (getTypeInfo)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  @مشترك دالة هات_هوية_الصنف (): سند[هـوية_صنف]؛
</pre>
                        هذه الدالة تُرجع سندًا لهوية هذا الصنف، أي لهوية الكائنات المشتقة من هذا الصنف.
                      </li>
                    </ul>
                    المثال التالي يوضح طريقة تعريف واستخدام هذه الأصناف:
<pre class="code" dir=rtl style="text-align:right;">
  عرف ص: صـحيح_بهوية(45)؛
  اطبع_صحيح(ص.القيمة)؛
  ص = 7؛

  عرف ك: سند[كـائن_بهوية](ص)؛
  إذا أمشتق_من[ك، صـحيح_بهوية] {
    عرف س: سند[صـحيح_بهوية](مثل_سند[ك، صـحيح_بهوية])؛
    اطبع_صحيح(س.القيمة)؛
  }
</pre>
                    فيما يلي قائمة الأصناف الأساسية بهوية:
                    <ul class="subsections">
                      <li><span class="inlinecode">صـحيح_بهوية (TiInt)</span></li>
                      <li><span class="inlinecode">طـبيعي_بهوية (TiWord)</span></li>
                      <li><span class="inlinecode">عـائم_بهوية (TiFloat)</span></li>
                      <li><span class="inlinecode">ثـنائي_بهوية (TiBool)</span></li>
                      <li><span class="inlinecode">نـص_بهوية (TiStr)</span></li>
                    </ul>
                  </div>

                  <h4 id="Core-dynamicDataAccess">الوصول الديناميكي للبيانات</h4>
                  <div>
                    الأصناف المستخدمة في شجرة البنية المجردة (Abstract Syntax Tree) تدعم مجموعة من الوسطاء لتمكين تصفح
                    الشجرة بشكل ديناميكي. هذه الوسطاء تمكن من الاستعلام عن عناصر الكائن وتمكن من الوصول لتلك القيم
                    لقراءتها أو تعديلها.

                    <h5 id="Core-Binding">الوسيط: ربـط (Binding)</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.أسـاسيات (Core.Basic)</span>.<br>
                      هذا الوسيط يمكن المستخدم من الوصول إلى أعضاء الكائن، ويحتوي على الدالات التالية:
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">حدد_عضوا (setMember)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة حدد_عضوا (اسم_العضو: مؤشر[مصفوفة[مـحرف]]، قيمة: سند[كـائن_بهوية])؛
  دالة حدد_عضوا (تسلسل_العضو: صـحيح، قيمة: سند[كـائن_بهوية])؛
</pre>
                          تحدد قيمة عضو من أعضاء الكائن. الصيغة الأولى لتحديد العضو اعتمادا على اسمه بينما الثانية تعتمد
                          على تسلسل العضو بين أعضاء الكائن.
                        </li>
                        <li>
                          <span class="inlinecode">هات_عدد_الأعضاء (getMemberCount)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_عدد_الأعضاء (): طـبيعي؛
</pre>
                          تستعلم عن عدد الأعضاء التي يمتلكها الكائن.
                        </li>
                        <li>
                          <span class="inlinecode">هات_عضوا (getMember)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_عضوا (اسم_ألعضو: مؤشر[مصفوفة[مـحرف]]): سند[كـائن_بهوية]؛
  دالة هات_عضوا (تسلسل_العضو: صـحيح): سند[كـائن_بهوية]؛
</pre>
                          تجلب قيمة العضو ذي الإسم المعطى في الصيغة الأولى، أو التسلسل المعطى في الصيغة الثانية.
                        </li>
                        <li>
                          <span class="inlinecode">هات_الصنف_المطلوب_للعضو (getMemberNeededType)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_الصنف_المطلوب_للعضو (اسم_العضو: مؤشر[مصفوفة[مـحرف]]): سند[هـوية_صنف]؛
  دالة هات_الصنف_المطلوب_للعضو (تسلسل_العضو: صـحيح): سند[هـوية_صنف]؛
</pre>
                          تجلب هوية الصنف المطلوب للعنصر ذي الإسم المعطى في الصيغة الأولى، أو التسلسل المعطى في الصيغة
                          الثانية.
                        </li>
                        <li>
                          <span class="inlinecode">هات_اسم_العضو (getMemberKey)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_اسم_العضو (تسلسل_العضو: صـحيح): نـص؛
</pre>
                          تجلب اسم العضو ذي التسلسل المعطى.
                        </li>
                        <li>
                          <span class="inlinecode">جد_تسلسل_العضو (findMemberIndex)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة جد_تسلسل_العضو (اسم_العضو: مؤشر[مصفوفة[مـحرف]]): صـحيح؛
</pre>
                          ترجع تسلسل العضو ذي الاسم المعطى، أو -1 إن لم يوجد عضو بهذا الاسم.
                        </li>
                      </ul>
                    </div>

                    <h5 id="Core-Containing">الوسيط: احـتواء (Containing)</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.أسـاسيات (Core.Basic)</span>.<br>
                      يُستخدم هذا الوسيط للاستعلام عن الكائنات الأخرى التي يحتويها هذا الكائن، أي عن العقد الأخرى التي يمتلكها
                      هذا الكائن ضمن الشجرة.<br>
                      الفرق بين هذا الوسيط ووسيط ربـط أن الأخير يستخدم للاستعلام عن صفات الكائن نفسه والتي تعتبر وصفًا لتلك
                      العقدة بينما وسيط احـتواء يستعلم عن عقد أخرى مستقلة عن الكائن لكنها مرتبطة به. على سبيل المثال لو
                      كان عندك كائن يمثل مؤثرًا ثنائيا بين قيمتين فإن نوع المؤثر يعتبر صفة ويُستعلم عنه باستخدام ربـط
                      بينما العنصرين الذين على جانبي المؤثر يُستعلم عنهما باستخدام احـتواء.<br>
                      يحوي هذا الوسيط الدالات التالية:
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">حدد_عنصرا (setElement)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة حدد_عنصرا (تسلسل_العنصر: صـحيح، قيمة: سند[كـائن_بهوية])؛
</pre>
                          تحديد كائن جديد للعنصر ذي التسلسل المعطى.
                        </li>
                        <li>
                          <span class="inlinecode">هات_عدد_العناصر (getElementCount)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_عدد_العناصر (): طـبيعي؛
</pre>
                          تجلب عدد العناصر التي يحتويها الكائن.
                        </li>
                        <li>
                          <span class="inlinecode">هات_عنصرا (getElement)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_عنصرا (تسلسل_ألعنصر: صـحيح): سند[كـائن_بهوية]؛
</pre>
                          تجلب العنصر الواقع عند التسلسل المعطى.
                        </li>
                        <li>
                          <span class="inlinecode">هات_الصنف_المطلوب_للعنصر (getElementNeededType)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_الصنف_المطلوب_للعنصر (تسلسل_العنصر: صـحيح): سند[هـوية_صنف]؛
</pre>
                          تجلب هوية الصنف المطلوب للعنصر ذي التسلسل المعطى.
                        </li>
                      </ul>
                    </div>

                    <h5 id="Core-DynamicContaining">الوسيط: احـتواء_مرن (DynamicContaining)</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.أسـاسيات (Core.Basic)</span>.<br>
                      مُشتق من <span class="inlinecode">احـتواء</span> ويضيف إمكانية تغيير عدد العناصر التي يحتويها
                      الكائن. يُستخدم هذا الوسيط مع الحاويات متغيرة الحجم، ويحوي الدالات التالية بالإضافة للدالات التي
                      يحويها الوسيط احـتواء.
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">أضف_عنصرا (addElement)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة أضف_عنصرا (القيمة: سند[كـائن_بهوية]): صـحيح؛
</pre>
                          تضيف عنصرا جديدا إلى نهاية الحاوية وترجع تسلسل العنصر الجديد.
                        </li>
                        <li>
                          <span class="inlinecode">احشر_عنصرا (insertElement)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة احشر_عنصرا (تسلسل: صـحيح، قيمة: سند[كـائن_بهوية])؛
</pre>
                          تضيف عنصرا جديدا إلى الحاوية عند التسلسل المعطى بعد تزحيف كل العناصر التي عند ذلك التسلسل.
                        </li>
                        <li>
                          <span class="inlinecode">أزل_عنصرا (removeElement)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة أزل_عنصرا (تسلسل_العنصر: صـحيح)؛
</pre>
                          تزيل العنصر الذي عند التسلسل المعين ثم تزحف كل العناصر التي تلي ذلك التسلسل.
                        </li>
                        <li>
                          <span class="inlinecode">هات_الصنف_المطلوب_للعناصر (getElementsNeededType)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_الصنف_المطلوب_للعناصر (): سند[هـوية_صنف]؛
</pre>
                          تجلب هوية الصنف المطلوب لعناصر هذه الحاوية دون الحاجة لتحديد عنصر معين.
                        </li>
                      </ul>
                    </div>

                    <h5 id="Core-MapContaining">الوسيط: احـتواء_تطبيقي (MapContaining)</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.أسـاسيات (Core.Basic)</span>.<br>
                      مُشتق من <span class="inlinecode">احـتواء</span> ويضيف إمكانية الوصول للعناصر عبر أسمائها بدل
                      تسلسلها. يحوي هذا الوسيط الدالات التالية:
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">حدد_عنصرا (setElement)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة حدد_عنصرا (
    اسم_ألعنصر: مؤشر[مصفوفة[مـحرف]]، قيمة: سند[كـائن_بهوية]
  ): صـحيح؛
</pre>
                          تحدد قيمة جديدة للعنصر ذي الاسم المعطى وترجع تسلسل هذا العنصر.
                        </li>
                        <li>
                          <span class="inlinecode">هات_عنصرا (getElement)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_عنصرا (اسم_العنصر: مؤشر[مصفوفة[مـحرف]]): سند[كـائن_بهوية]؛
</pre>
                          تجلب قيمة العنصر ذي الاسم المعطى.
                        </li>
                        <li>
                          <span class="inlinecode">هات_الصنف_المطلوب_للعنصر (getElementNeededType)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_الصنف_المطلوب_للعنصر (
    اسم_العنصر: مؤشر[مصفوفة[مـحرف]]
  ): سند[هـوية_صنف]؛
</pre>
                          تجلب هوية الصنف المطلوب للعنصر ذي الاسم المعطى.
                        </li>
                        <li>
                          <span class="inlinecode">هات_اسم_العنصر (getElementKey)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_اسم_العنصر (تسلسل_العنصر: صـحيح): نـص)
</pre>
                          تجلب اسم العنصر ذي التسلسل المعطى.
                        </li>
                        <li>
                          <span class="inlinecode">جد_تسلسل_العنصر (findElementIndex)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة جد_تسلسل_العنصر (اسم_العنصر: مؤشر[مصفوفة[مـحرف]]): صـحيح؛
</pre>
                          ترجع تسلسل العنصر ذي الاسم المعطى، أو -1 إن لم يوجد عنصر بهذا الاسم.
                        </li>
                      </ul>
                    </div>

                    <h5 id="Core-DynamicMapContaining">الوسيط: احـتواء_تطبيقي_مرن (DynamicMapContaining)</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.أسـاسيات (Core.Basic)</span>.<br>
                      مُشتق من <span class="inlinecode">احـتواء_تطبيقي</span> ويضيف إمكانية إزالة عناصر أو إضافة عناصر
                      جديدة ديناميكيا. يحوي هذا الوسيط الدالات التالية:
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">أضف_عنصرا (addElement)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة أضف_عنصرا (
    اسم_العنصر: مؤشر[مصفوفة[مـحرف]]، قيمة: سند[كـائن_بهوية]
  ): صـحيح؛
</pre>
                          يضيف عنصرا جديدا باسم الجديد إلى الحاوية ويرجع تسلسل العنصر الجديد.
                        </li>
                        <li>
                          <span class="inlinecode">احشر_عنصرا (insertElement)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة احشر_عنصرا (
    تسلسل: صـحيح، اسم: مؤشر[مصفوفة[مـحرف]]، قيمة: سند[كـائن_بهوية]
  )؛
</pre>
                          يضيف عنصرا جديدا عند التسلسل المحدد بعد تزحيف العناصر التي عند ذلك التسلسل أو تليه.
                        </li>
                        <li>
                          <span class="inlinecode">أزل_عنصرا (removeElement)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة أزل_عنصرا (تسلسل_العنصر: صـحيح)؛
  دالة أزل_عنصرا (اسم_ألعنصر: مؤشر[مصفوفة[مـحرف]])؛
</pre>
                          تزيل العنصر ذي التسلسل المعطى في الصيغة الأولى أو الاسم المعطى في الصيغة الثانية.
                        </li>
                        <li>
                          <span class="inlinecode">هات_الصنف_المطلوب_للعناصر (getElementsNeededType)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_الصنف_المطلوب_للعناصر (): سند[هـوية_صنف]؛
</pre>
                          تجلب هوية الصنف المطلوب لعناصر هذه الحاوية دون الحاجة لتحديد عنصر معين.
                        </li>
                      </ul>
                    </div>
                  </div>

                  <h4 id="Core-ast">أصناف شجرة البنية المجردة (AST)</h4>
                  <div>
                    كل الأصناف المكونة لشجرة البنية المجردة مشتقة من الصنف <span class="inlinecode">عـقدة (Node)</span>
                    وكلها تدعم وسطاء الوصول الديناميكي للبيانات، لذلك يمكن أثناء التنفيذ تصفح شجرة بنية مجردة بشكل
                    ديناميكي وهو ما يمكن المستخدم من قراءة وإنشاء أشجار البنية المجردة من داخل برنامجه بما يمكنه من
                    تطوير تراكيب نحوية جديدة تسهل عليه عمله.

                    <h5 id="Core-Node">الصنف: عـقدة (Node)</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.بـيانات (Core.Data)</span>.<br>
                      مُشتق من <span class="inlinecode">كـائن_بهوية</span>.<br>
                      جذر لأصناف بيانات أخرى مثل أصناف شجرة البنية المجردة. يمكن هذا الصنف من الوصول من كائن إلى مالكه.
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">المالك (owner): سند[عـقدة]</span><br>
                          سند إلى مالك هذا الكائن.
                        </li>
                        <li>
                          <span class="inlinecode">هات_هوية_الصنف (getTypeInfo)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  @مشترك دالة هات_هوية_الصنف (): سند[هـوية_صنف]؛
</pre>
                          هذه الدالة تُرجع سندًا لهوية هذا الصنف، أي لهوية الكائنات المشتقة من هذا الصنف.
                        </li>
                      </ul>
                    </div>

                    <h5 id="Core-textAstTypes">الأصناف النصية</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.بـيانات.شـبم (Core.Data.Ast)</span>.<br>
                      مُشتق من <span class="inlinecode">عـقدة</span>.<br>
                      هذه الأصناف التي تحوي مقطعًا نصيّا مفردًا من الشفرة المصدرية، أي دون مؤثرات أو تراكيب. المقطع النصي
                      هنا يُقصد به أي سلسلة محارف يُفسرها المرمّز (lexer) كرمز واحد ولذا قد تكون معرفا أو رقما أو سلسلة
                      محارف. تحوي هذه الأصناف العناصر التالية:
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">القيمة (value): نـص_بهوية</span><br>
                          سلسلة المحارف المقروءة من الشفرة المصدرية.
                        </li>
                        <li>
                          <span class="inlinecode">هات_هوية_الصنف (getTypeInfo)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  @مشترك دالة هات_هوية_الصنف (): سند[هـوية_صنف]؛
</pre>
                          هذه الدالة تُرجع سندًا لهوية هذا الصنف، أي لهوية الكائنات المشتقة من هذا الصنف.
                        </li>
                        <li>
                          <span class="inlinecode">أنشئ (create)</span><br>
<pre class="code" dir=rtl style="text-align:right;">
  @مشترك دالة أنشئ (قيمة: مؤشر[مصفوفة[مـحرف]]): سـندنا[الـصنف]؛
</pre>
                          تنشئ كائنًا من هذا الصنف بالقيمة المعطاة وترجع سندًا مشتركًا له.
                        </li>
                      </ul>
                      فيما يلي قائمة بالأصناف النصية:
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">مـعرف (Identifier)</span><br>
                          أي معرف كان من الشفرة المصدرية مثل اسم متغير أو اسم دالة أو ما شابه.
                        </li>
                        <li>
                          <span class="inlinecode">نـص_حرفي (StringLiteral)</span><br>
                          يحوي سلسلة محارف، أي سلسلة المحارف المحصورة بين علامتي اقتباس. القيمة المخزنة في هذا الكائن
                          لا تشمل علامات الاقتباس كما أنها لا تشمل علامات المحارف المركبة (مثل رمز \) وإنما تشمل المحرف
                          نفسه فقط. على سبيل المثال، عندما يكتب المستخدم \" فإن قيمة هذا الكائن ستحوي فقط على " دون
                          علامة \.<br>
                          في حالة تقسيم المستخدم سلسلته النصية إلى عدة مقاطع (بإغلاق علامة الاقتباس ثم فتحها من جديد) فإن
                          القيمة التي في هذا الكائن ستكون سلسلة محارف تشمل جميع المقاطع ودون فراغات. على سبيل المثال،
                          إذا أدخل المستخدم <span class="inlinecode">"السلام"   " عليكم"</span> فإن قيمة هذا الكائن ستكون
                          <span class="inlinecode">السلام عليكم</span>.
                        </li>
                        <li>
                          <span class="inlinecode">مـحرف_حرفي (CharLiteral)</span><br>
                          يحوي محرفًا، أي المحرف المحصور في الشفرة المصدرية بين علامتي اقتباس مفردة، لكن القيمة
                          في هذا الكائن بدون علامتي الاقتباس.
                        </li>
                        <li>
                          <span class="inlinecode">صـحيح_حرفي (IntegerLiteral)</span><br>
                          يحوي عددا صحيحًا مع الرموز المتعلقة بصنف العدد الصحيح، مثلا: "456ص32".
                        </li>
                        <li>
                          <span class="inlinecode">عـائم_حرفي (FloatLiteral)</span><br>
                          يحوي عددا بفاصلة مع الرموز المتعلقة بصنف العدد، مثلا: "1.2f32".
                        </li>
                      </ul>
                    </div>

                    <h5 id="Core-expAstTypes">أصناف الأوامر والتراكيب</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">الـقلب.بـيانات.شـبم (Core.Data.Ast)</span>.<br>
                      مُشتق من <span class="inlinecode">عـقدة</span>.<br>
                      فيما يلي قائمة الأصناف الممثلة للأوامر والتراكيب وما شابه. باستثناء دالة <span class="inlinecode">هات_هوية_الصنف</span>
                      لا تملك هذه الأصناف دالات أخرى وإنما يمكن الوصول لأعضائها وعناصرها باستخدام وسطاء الوصول الديناميكي
                      للبيانات.
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">لـقب (Alias)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">قـوس (Bracket)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">جـسر (Bridge)</span><br>
                          يمثل هذا الصنف عبارة `استخدم` (use) التي تنشئ جسرًا من مجال يمكنه من الوصول تلقائيًا لعناصر مجال
                          آخر.
                        </li>
                        <li>
                          <span class="inlinecode">تـعريف (Definition)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">إيـعاز (GenericCommand)</span><br>
                          صنف عمومي يمكن استخدامه لحمل بيانات إيعاز غير محدد. يحمل نصا للكلمة المفتاحية مع فائمة مرنة
                          من البيانات.
                        </li>
                        <li>
                          <span class="inlinecode">قـائمة (List)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">تـطبيق (Map)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">قـائمة_دمج (MergeList)</span><br>
                          صنف خاص يبلغ المعرب أن يدمج عناصره مباشرة في المجال العلوي بدل أن تبقى كقائمة فرعية داخل
                          المجال العلوي.
                        </li>
                        <li>
                          <span class="inlinecode">مـمرر_معطيات (ParamPass)</span><br>
                          يمثل عملية تمرير بيانات إلى عنصر ما مثل استدعاء دالة أو ماكرو أو قالب.
                        </li>
                        <li>
                          <span class="inlinecode">مـجال (Scope)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">رمـز (Token)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_قبلي (PrefixOperator)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_بعدي (PostfixOperator)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_تعيين (AssignmentOperator)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_مقارنة (ComparisonOperator)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_جمع (AdditionOperator)</span><br>
                          لعملبات الجمع والطرح.
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_ضرب (MultiplicationOperator)</span><br>
                          لعمليات الضرب والقسمة.
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_بتي (BitwiseOperator)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_منطقي (LogOperator)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_ربط (LinkOperator)</span><br>
                          لمؤثرات الربط بين عنصر وعضو منه مثل مرثر النفطة أو مؤثر -> أو ما شابه.
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_شرط (ConditionalOperator)</span><br>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>

                <!-- ********************************************************************** -->
                <br>
                <h3 id="Spp">دليل الوحدة `نـبم`</h3>
                <hr>
                <div>
                <p>
                  الوحدة `نـبم` (نمط البرمجة المعياري) تحتوي على دالات للتعامل مباشرة مع مكتبة spp، وهي المكتبة المسؤولة عن دعم نمط البرمجة المعياري. عناصر هذه الوحدة تمكن المستخدم من التعامل مباشرة مع المترجم من خلال برنامجه.
                </p>
                  <h4 id="Spp-buildMgr">الكائن: مدير_البناء (buildMgr)</h4>
                  <div>
                    هذا الكائن المفرد يمكن المستخدم من التعامل مع مولد الشفرة التنفيذية ويحوي الدالات التالية:
                    <h5 id="Spp-buildMgr-dumpLlvmIrForElement">أدرج_تو_لعنصر (dumpLlvmIrForElement)</h5>
                    <div>
<pre class="code" dir=rtl style="text-align:right;">
  دالة أدرج_تو_لعنصر (عنصر: مؤشر)
</pre>
                    دالة `أدرج_تو_لعنصر` تقوم بطبع الترميز الوسطي لعنصر معين من الشفرة المصدرية. الترميز الوسطي المطبوع هو ترميز LLVM IR. تستقبل الدالة معطى واحد وهو مؤشر على شبكة البنية المجردة لذلك العنصر (Abstract Syntax Tree). يمكنك الحصول على هذا المؤشر باستخدام الأمر `~شبم` كما في المثال التالي:
<pre class="samplecode" dir=rtl style="text-align:right;">
  نـبم.مدير_البناء.أدرج_تو_لعنصر(دالتي~شبم)
</pre>
                    </div>

                    <h5 id="Spp-buildMgr-buildObjectFileForElement">أنشء_ملفا_رقميا_لعنصر (buildObjectFileForElement)</h5>
                    <div>
<pre class="code" dir=rtl style="text-align:right;">
  دالة أنشء_ملفا_رقميا_لعنصر (
    عنصر: مؤشر، اسم_الملف: مؤشر[مصفوفة[محرف]]، وصف_المعمارية: مؤشر[مصفوفة[محرف]]
  ): ثنائي
</pre>
                    تنشئ هذه الدالة ملف شفرة مترجمة للعنصر المعني (object file). يمكن لاحقا تمرير هذا الملف إلى مُجمِّع (linker)
                    لإنشاء ملف تنفيذي. المعطى الثالث قيمة target triple تحدد المعمارية التي ستستخدم في البناء. في حالة تمرير 0
                    لهذا المعطى تُستخدم المعمارية الحالية للنظام. على سبيل المثال لبناء شفرة تنفيذية بمعمارية ويب أسمبلي تُمرر
                    القيمة "wasm32-unknown-unknown". يمكن مراجعة وثائق LLVM لمزيد من المعلومات حول هذه القيمة.<br>
                    ترجع الدالة 1 في حال نجح البناء، وبعكسه ترجع 0.
<pre class="samplecode" dir=rtl style="text-align:right;">
  نـبم.مدير_البناء.أنشء_ملفا_رقميا_لعنصر(وحـدتي~شبم، "اسم_الملف_الناتج"، 0)
</pre>
                    </div>
                  </div>

                  <h4 id="Spp-astMgr">الكائن: مدير_شبم (astMgr)</h4>
                  <div>
                    هذا الكائن المفرد يحتوي دالات للتعامل مع شجرة البنية المجردة (Abstract Syntax Tree). يحتوي على الدالات التالية:
                    <h5 id="Spp-astMgr-findElements">جد_عناصر (findElements)</h5>
                    <div>
<pre class="code" dir=rtl style="text-align:right;">
  دالة جد_عناصر (
    معيار_البحث: سند[الـقلب.أسـاسيات.كـائن_بهوية]،
    موقع_البحث: سند[الـقلب.أسـاسيات.كـائن_بهوية]،
    خيارات: طـبيعي
  ): مـصفوفة[سند[الـقلب.أسـاسيات.كـائن_بهوية]]؛
</pre>
                      تبحث ضمن الشفرة المصدرية عن عناصر تطابق معيار البحث المعطى. المعطيان الأول والثاني سندان على شجرتي بنية مجردة،
                      الأولى لتركيب يمثل معيار البحث بينما الثانية هي الشجرة التي سيتم البحث فيها.<br>
                      الخيار الثالث يمكن أن يكون واحدا من هذه القيم:
                      <ul>
                        <li>
                          <b>خـيارات_الساعي._تخطى_المالكين_ (SeekerFlags.SKIP_OWNERS)</b><br/>
                          تُعلم الساعي أن لا يبحث في المجالات التي يقعل موقع البحث الحالي داخلها. على سبيل المثال، إذا بحثت
                          ضمن مسار `عـام.فـرعي` فإنه مبدئيًا سيبحث ضمن `فـرعي` ثم ضمن `عـام`، فإذا أضفت هذا الخيار فإنه
                          سيبحث ضمن `فـرعي` فقط.
                        </li>
                        <li>
                          <b>خـيارات_الساعي._تخطى_الاستخدامات_ (SeekerFlags.SKIP_USES)</b><br/>
                          تُبلغ الساعي أن يتجاهل عبارات `استخدم` (use) أثناء البحث. بدون هذا الخيار فإن الساعي سيبحث في
                          المجالات التي تشير إليها هذه العبارات.
                        </li>
                        <li><b>خـيارات_الساعي._تخطى_الأبناء_ (SeekerFlags.SKIP_CHILDREN)</b><br/>
                          تُعلم الساعي أن لا يبحث في المجالات الفرعية. مثلا إذا بحثت ضمن المجال `عـام` وكان هذا المجال يحتوي
                          على المجال `فـرعي` فإن الساعي سيبحث في `عـام` ثم `فـرعي` ما لم تُعطه هذا الخيار، فإن فعلت فسيبحث
                          في `عـام` فقط.
                        </li>
                      </ul>
                      المثال التالي يبحث عن كل الدالات ضمن صنف محدد:
<pre class="samplecode" dir=rtl style="text-align:right;">
  العناصر = نـبم.مدير_شبم.جد_عناصر(
    شبم { نوع_العنصر == "دالة" }،
    صـنفي~شبم،
    نـبم.خـيارات_الساعي._تخطى_المالكين_ | نـبم.خـيارات_الساعي._تخطى_الاستخدامات_ | نـبم.خـيارات_الساعي._تخطى_الأبناء_
  )؛
</pre>
<pre class="samplecode" dir=ltr>
  elements = Spp.astMgr.findElements(
    ast { elementType == "function" },
    MyClass~ast,
    Spp.SeekerFlags.SKIP_OWNERS | Spp.SeekerFlags.SKIP_USES | Spp.SeekerFlags.SKIP_CHILDREN
  );
</pre>
                      يمكن باستخدام معيار البحث البحث حسب نوع العنصر أو حسب المبدلات المطبقة على العنصر. ويمكن أيضا استخدام
                      شرط مركب يحتوي على مؤثري `و` و `أو`. فيما يلي بعض الأمثلة على معايير البحث:
<pre class="samplecode" dir=rtl style="text-align:right;">
  نوع_العنصر == "دالة" // بحث عن دالات
  نوع_العنصر == "صنف" // بحث عن أصناف المستخدم
  نوع_العنصر == "وحدة" // بحث عن وحدات
  نوع_العنصر == "متغير" // بحث عن متغيرات
  مبدل == "عمومي" // بحث عن عناصر مطبق عليها مبدل @عمومي
  نوع_العنصر == "دالة" و مبدل == "عمومي" // بحث عن دالات عليها مبدل @عمومي
</pre>
<pre class="samplecode" dir=ltr>
  elementType == "function" // search for functions
  elementType == "type" // search for types
  elementType == "module" // search for modules
  elementType == "var" // serach for variables
  modifier == "public" // search for elements with @public modifier
  elementType == "func" && modifier == "public" // search for functions with @public modifier
</pre>
                    </div>

                    <h5 id="Spp-astMgr-getModifiers">هات_المبدلات (getModifiers)</h5>
                    <div>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_المبدلات (
    عنصر: سند[الـقلب.أسـاسيات.كـائن_بهوية]
  ): سند[الـقلب.أسـاسيات.احـتواء]
</pre>
                      تجلب قائمة المبدلات المطبقة على العنصر المُعطى.
                    </div>

                    <h5 id="Spp-astMgr-findModifier">جد_مبدلا (findModifier)</h5>
                    <div>
<pre class="code" dir=rtl style="text-align:right;">
  دالة جد_مبدلا (
    مبدلات: سند[الـقلب.أسـاسيات.احـتواء]،
    كلمة_مفتاحية: مؤشر[مصفوفة[مـحرف]]
  ): سند[الـقلب.أسـاسيات.كـائن_بهوية]
</pre>
                      إيجاد مبدل ضمن قائمة مبدلات. يتم البحث باستخدام الكلمة المفتاحية للمبدل. مثلا، للبحث عن مبدل `@تصدير[...]`
                      نحتاج لتمرير الكلمة المفتاحية `تصدير`.
                    </div>

                    <h5 id="Spp-astMgr-findModifierForElement">جد_مبدلا_لعنصر (findModifierForElement)</h5>
                    <div>
<pre class="code" dir=rtl style="text-align:right;">
  دالة جد_مبدلا_لعنصر (
    عنصر: سند[الـقلب.أسـاسيات.كـائن_بهوية]،
    كلمة_مفتاحية: مؤشر[مصفوفة[مـحرف]]
  ): سند[الـقلب.أسـاسيات.كـائن_بهوية]
</pre>
                      إيجاد المبدل بالكلمة المعيارية المعطاة على العنصر المعطى.
                    </div>

                    <h5 id="Spp-astMgr-getModifierKeyword">هات_كلمة_المبدل_المفتاحية (getModifierKeyword)</h5>
                    <div>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_كلمة_المبدل_المفتاحية (
    مبدل: سند[الـقلب.أسـاسيات.كـائن_بهوية]
  ): نـص
</pre>
                      تُرجع الكلمة المفتاحية للمبدل المعطى.
                    </div>

                    <h5 id="Spp-astMgr-getModifierStringParams">هات_المعطيات_النصية_لمبدل (getModifierStringParams)</h5>
                    <div>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_المعطيات_النصية_لمبدل (
    مبدل: سند[الـقلب.أسـاسيات.كـائن_بهوية]،
    الناتج: سند[مـصفوفة[نـص]]
  ): ثـنائي
</pre>
                      تُرجع قائمة بكل المعطيات النصية الممررة للمبدل. مثلاً لو كان عندنا مبدل `@اعتماديات["مكتبة1"، "مكتبة2"]`
                      واستخدمنا هذه الدالة فإننا سنحصل منها على مصفوفة من عنصرين، الأول قيمته "مكتبة1" والثاني "مكتبة2".
                      تُرجع الدالة قيمة ثنائية تكون 1 عند نجاح العملية و0 عند فشلها.
                    </div>

                    <h5 id="Spp-astMgr-getSourceFullPathForElement">هات_المسار_الكامل_لشفرة_عنصر (getSourceFullPathForElement)</h5>
                    <div>
<pre class="code" dir=rtl style="text-align:right;">
  دالة هات_المسار_الكامل_لشفرة_عنصر (
    عنصر: سند[الـقلب.أسـاسيات.كـائن_بهوية]
  ): نـص
</pre>
                      ترجع اسم الملف الكامل مع المسار لملف الشفرة المصدرية الذي يحتوي العنصر المعطى.
                    </div>

                    <h5 id="Spp-astMgr-insertAst">احشر_شبم (insertAst)</h5>
                    <div>
<pre class="code" dir=rtl style="text-align:right;">
  دالة احشر_شبم (
    عنصر: سند[الـقلب.أسـاسيات.كـائن_بهوية]،
    استعاضات: سند[تـطبيق[نـص، سند[الـقلب.أسـاسيات.كـائن_بهوية]]]
  ): ثـنائي
  دالة احشر_شبم (
    عنصر: سند[الـقلب.أسـاسيات.كـائن_بهوية]،
    استعاضات: سند[تـطبيق[نـص، سـندنا[الـقلب.أسـاسيات.كـائن_بهوية]]]
  ): ثـنائي
</pre>
                      تحشر شجرة البنية المجردة المعطاة في الموضع الحالي بعد تطبيق الاستعاضات المعطاة على الشجرة المعطاة بنفس طريقة
                      عمل الماكروهات. المعطى الأول للدالة هو الشجرة التي سيتم حشرها بينما المعطى الثاني يحمل قائمة الاستعاضات.<br>
                      الموضع الذي ستُحشر فيه الشفرة هو الموضع الحالي للمعالجة التمهيدية، أي الموضع الذي ظهرت فيه عبارة `تمهيد` التي
                      استدعت دالة `احشر_شبم`. المثال التالي يحشر عشرة تعريفات لمتغيرات من صنف صحيح أسماؤها من ن0 إلى ن9:
<pre class="samplecode" dir=rtl style="text-align:right;">
  عرف ع: صـحيح؛
  لكل ع = 0، ع < 5، ++ع {
      عرف عداد: نـص_بهوية = نـص.املأ("%i"، ع)؛
      نـبم.مدير_شبم.أنشئ_شبم(
          شبم { عرف ن__عداد__: صـحيح }،
          تـطبيق[نـص، سند[كـائن_بهوية]]().حدد(نـص("عداد")، عداد)
      )؛
  }
</pre>
<pre class="samplecode" dir=ltr>
  def i: Int;
  for i = 0, i < 10, ++i {
      def counter: TiStr = String.format("%i", i);
      Spp.astMgr.insertAst(
          ast { def n__counter__: Int },
          Map[String, ref[TiObject]]().set(String("counter"), counter)
      );
  }
</pre>
                    </div>

                    <h5 id="Spp-astMgr-buildAst">أنشئ_شبم (buildAst)</h5>
                    <div>
<pre class="code" dir=rtl style="text-align:right;">
  دالة أنشئ_شبم (
    عنصر: سند[الـقلب.أسـاسيات.كـائن_بهوية]،
    استعاضات: سند[تـطبيق[نـص، سند[الـقلب.أسـاسيات.كـائن_بهوية]]]،
    النتيجة: سند[الـقلب.أسـاسيات.كـائن_بهوية]
  ): ثـنائي
  دالة أنشئ_شبم (
    عنصر: سند[الـقلب.أسـاسيات.كـائن_بهوية]،
    استعاضات: سند[تـطبيق[نـص، سـندنا[الـقلب.أسـاسيات.كـائن_بهوية]]]،
    النتيجة: سند[الـقلب.أسـاسيات.كـائن_بهوية]
  ): ثـنائي
</pre>
                      هذه الدالة مشابهة لدالة `احشر_شبم` غير أنها تنشئ شجرة البنية المجردة وترجعها للمستدعي بدل أن تحشرها
                      مباشرة في الموضع الحالي للمعالجة التميهدية. يمكن للمستخدم لاحقًا أن يحشر النتيجة المستلمة في الموضع
                      الحالي باستخدام دالة `احشر_شبم`. المثال التالي تعديل على المثال أعلاه ليستخدم هذه الدالة وليضيف أيضًا
                      تصفيرًا للمتغيرات التي يعرفها. المثال ينشئ تعريفًا ثم يستخدم التعريف الناتج كاستعاضة في استدعاء لاحق
                      لدالة `احشر_شبم`:
<pre class="samplecode" dir=rtl style="text-align:right;">
  عرف ع: صـحيح؛
  لكل ع = 0، ع < 5، ++ع {
      عرف عداد: نـص_بهوية = نـص.املأ("%i"، ع)؛
      عرف نتيجة: سـندنا[كـائن_بهوية]؛
      نـبم.مدير_شبم.أنشئ_شبم(
          شبم { عرف ن__عداد__: صـحيح }،
          تـطبيق[نـص، سند[كـائن_بهوية]]().حدد(نـص("عداد")، عداد)،
          نتيجة
      )؛
      نـبم.مدير_شبم.احشر_شبم(
          شبم{
              تعريف؛
              ن__عداد__ = 0؛
          }،
          تـطبيق[نـص، سند[كـائن_بهوية]]()
              .حدد(نـص("عداد")، عداد)
              .حدد(نـص("تعريف")، نتيجة)
      )؛
  }
</pre>
<pre class="samplecode" dir=ltr>
  def i: Int;
  for i = 0, i < 10, ++i {
      def counter: TiStr = String.format("%i", i);
      def result: SrdRef[TiObject];
      Spp.astMgr.buildAst(
          ast { def n__counter__: Int },
          Map[String, ref[TiObject]]().set(String("counter"), counter),
          result
      );
      Spp.astMgr.insertAst(
          ast {
              definition;
              n__counter = 0;
          },
          Map[String, ref[TiObject]]()
              .set(String("counter"), counter)
              .set(String("definition"), result)
      );
  }
</pre>
                    </div>
                  </div>

                  <h4 id="Spp-ast">أصناف شجرة البنية المجردة (AST)</h4>
                  <div>
                    <h5 id="Spp-typesAstTypes">الأصناف</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">نـبم.شـبم (Spp.Ast)</span>.<br>
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">صـنف (Type)</span><br>
                          مُشتق من <span class="inlinecode">عـقدة</span>.<br>
                          الجذر لكل الأصناف في لغة الأسس.
                        </li>
                        <li>
                          <span class="inlinecode">صـنف_بيانات (DataType)</span><br>
                          مُشتق من <span class="inlinecode">صـنف</span>.<br>
                          الجذر لكل أصناف البيانات.
                        </li>
                        <li>
                          <span class="inlinecode">صـنف_صحيح (IntegerType)</span><br>
                          مُشتق من <span class="inlinecode">صـنف_بيانات</span>.<br>
                        </li>
                        <li>
                          <span class="inlinecode">صـنف_عائم (FloatType)</span><br>
                          مُشتق من <span class="inlinecode">صـنف_بيانات</span>.<br>
                        </li>
                        <li>
                          <span class="inlinecode">صـنف_مصفوفة (ArrayType)</span><br>
                          مُشتق من <span class="inlinecode">صـنف_بيانات</span>.<br>
                        </li>
                        <li>
                          <span class="inlinecode">صـنف_مؤشر (PointerType)</span><br>
                          مُشتق من <span class="inlinecode">صـنف_بيانات</span>.<br>
                        </li>
                        <li>
                          <span class="inlinecode">صـنف_سند (ReferenceType)</span><br>
                          مُشتق من <span class="inlinecode">صـنف_بيانات</span>.<br>
                        </li>
                        <li>
                          <span class="inlinecode">صـنف_عدم (VoidType)</span><br>
                          مُشتق من <span class="inlinecode">صـنف_بيانات</span>.<br>
                        </li>
                        <li>
                          <span class="inlinecode">صـنف_مستخدم (UserType)</span><br>
                          مُشتق من <span class="inlinecode">صـنف_بيانات</span>.<br>
                        </li>
                        <li>
                          <span class="inlinecode">صـنف_دالة (FunctionType)</span><br>
                          مُشتق من <span class="inlinecode">صـنف</span>.<br>
                        </li>
                      </ul>
                    </div>

                    <h5 id="Spp-opsAstTypes">مؤثرات</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">نـبم.شـبم (Spp.Ast)</span>.<br>
                      مُشتق من <span class="inlinecode">عـقدة</span>.<br>
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">مـؤثر_إشارة_لشبم (AstRefOp)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_تمثيل (CastOp)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_تهيئة (InitOp)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_إتلاف (TerminateOp)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_التالي (NextArgOp)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_تتبع (DerefOp)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_تعطيل_التتبع (NoDerefOp)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_محتوى (ContentOp)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_مؤشر (PointerOp)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_حجم (SizeOp)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـؤثر_صنف (TypeOp)</span><br>
                        </li>
                      </ul>
                    </div>

                    <h5 id="Spp-stmtAstTypes">عبارات</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">نـبم.شـبم (Spp.Ast)</span>.<br>
                      مُشتق من <span class="inlinecode">عـقدة</span>.<br>
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">عـبارة_إذا (IfStatement)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">عـبارة_بينما (WhileStatement)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">عـبارة_لكل (ForStatement)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">عـبارة_أكمل (ContinueStatement)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">عـبارة_اقطع (BreakStatement)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">عـبارة_ارجع (ReturnStatement)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">عـبارة_تمهيد (PreprocessStatement)</span><br>
                        </li>
                      </ul>
                    </div>

                    <h5 id="Spp-otherAstTypes">أخرى</h5>
                    <div>
                      معرف داخل الوحدة <span class="inlinecode">نـبم.شـبم (Spp.Ast)</span>.<br>
                      مُشتق من <span class="inlinecode">عـقدة</span>.<br>
                      <ul class="subsections">
                        <li>
                          <span class="inlinecode">قـالب (Template)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">تـعريف_معطى_قالب (TemplateVarDef)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـتن (Block)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">دالـة (Function)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">مـاكرو (Macro)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">وحـدة (Module)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">رزمـة_معطيات (ArgPack)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">إيـعاز_شبم_حرفي (AstLiteralCommand)</span><br>
                        </li>
                        <li>
                          <span class="inlinecode">إشـارة_لهذا_الصنف (ThisTypeRef)</span><br>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>

                <!-- ********************************************************************** -->
                <br>
                <h3 id="astManipulation">معالجة شجرة البنية المجردة</h3>
                <hr>
                <div>
                  قابلية برامج الأسس على قراءة وإنشاء شجرة البنية المجردة أثناء التنفيذ تمكن المبرمج من تطوير اللغة من
                  داخل برنامجه بإضافة قواعد جديدة لترجمة الشفرة المصدرية. في المثال التالي نعرف ماكرو يترجم التركيب
                  المعطى إلى سلسلة محارف تحتوي عبارة الشرط، مع استبدال المتغيرات بقيمها الحقيقية أثناء التنفيذ.
<pre class="samplecode" dir=rtl style="text-align:right;">
  اشمل "مـتم/طـرفية"؛
  اشمل "مـتم/سندات"؛
  اشمل "مـتم/نـظام"؛
  اشمل "الـقلب/بـيانات"؛
  اشمل "مـتم/نـص"؛
  اشمل "مـتم/تـطبيق"؛
  اشمل "نـبم"؛

  استخدم مـتم؛
  استخدم الـقلب.أسـاسيات؛
  استخدم الـقلب.بـيانات؛
  استخدم الـقلب.بـيانات.شـبم؛
  عرف سـندنا_لكائن_بهوية: لقب سـندنا[الـقلب.أسـاسيات.كـائن_بهوية]؛

  دالة أنشئ_حيثما (كائن: سند[كـائن_بهوية]): سـندنا_لكائن_بهوية {
      عرف نتيجة: سـندنا_لكائن_بهوية؛
      إذا كائن~مؤشر == 0 {
          نـظام.فشل(1، "أنشئ_حيثما: الكائن معدوم.\ج")؛
      }

      إذا أمشتق_من[كائن، مـؤثر_مقارنة] {
          عرف ربط: سند[ربـط](هات_وسيط[كائن، ربـط])؛
          عرف حاوية_تطبيق: سند[احـتواء_تطبيقي](هات_وسيط[كائن، احـتواء_تطبيقي])؛
          إذا !نـبم.مدير_شبم.أنشئ_شبم(
              شبم { نـص("{{اسم}}") + نـص(" {{مؤثر}} '") + القيمة + نـص("'") }،
              تـطبيق[نـص، سند[كـائن_بهوية]]()
                  .حدد(نـص("اسم")، حاوية_تطبيق.هات_عنصرا("first"))
                  .حدد(نـص("مؤثر")، ربط.هات_عضوا("type"))
                  .حدد(نـص("القيمة")، حاوية_تطبيق.هات_عنصرا("second"))،
              نتيجة
          ) {
              نـظام.فشل(1، "أنشئ_حيثما/مـؤثر_مقارنة: خطأ\ج")؛
          }
      } وإلا إذا أمشتق_من[كائن، مـؤثر_منطقي] {
          عرف ربط: سند[ربـط](هات_وسيط[كائن، ربـط])؛
          عرف حاوية_تطبيق: سند[احـتواء_تطبيقي](هات_وسيط[كائن، احـتواء_تطبيقي])؛
          عرف مؤثر: نـص_بهوية؛
          إذا مثل_سند[ربط.هات_عضوا("type")، نـص_بهوية].القيمة == "and" مؤثر = "و" وإلا مؤثر = "أو"؛
          إذا !نـبم.مدير_شبم.أنشئ_شبم(
              شبم { (شرط1) + نـص(" {{مؤثر}} ") + (شرط2) }،
              تـطبيق[نـص، سند[كـائن_بهوية]]()
                  .حدد(نـص("شرط1")، أنشئ_حيثما(حاوية_تطبيق.هات_عنصرا("first")).كائن)
                  .حدد(نـص("مؤثر")، مؤثر)
                  .حدد(نـص("شرط2")، أنشئ_حيثما(حاوية_تطبيق.هات_عنصرا("second")).كائن)،
              نتيجة
          ) {
              نـظام.فشل(1، "أنشئ_حيثما/مـؤثر_منطقي: خطأ\ج")؛
          }
      } وإلا إذا أمشتق_من[كائن، قـوس] {
          عرف حاوية_تطبيق: سند[احـتواء_تطبيقي](هات_وسيط[كائن، احـتواء_تطبيقي])؛
          إذا !نـبم.مدير_شبم.أنشئ_شبم(
              شبم { نـص("(") + (شرط) + نـص(")") }،
              تـطبيق[نـص، سند[كـائن_بهوية]]()
                  .حدد(نـص("شرط")، أنشئ_حيثما(حاوية_تطبيق.هات_عنصرا("operand")).كائن)،
              نتيجة
          ) {
              نـظام.فشل(1، "أنشئ_حيثما/قـوس: خطأ\ج")؛
          }
      } وإلا {
          إذا !نـبم.مدير_شبم.أنشئ_شبم(
              كائن،
              تـطبيق[نـص، سند[كـائن_بهوية]]()،
              نتيجة
          ) {
              نـظام.فشل(1، "فشل بناء الشرط.\ج")؛
          }
      }
      أرجع نتيجة؛
  }

  ماكرو حيثما [شرط] {
      تمهيد {
          إذا !نـبم.مدير_شبم.احشر_شبم(
              أنشئ_حيثما(شبم شرط).كائن
          ) {
              نـظام.فشل(1، "فشل حشر الشرط.\ج")؛
          }
      }
  }

  دالة اختبر {
      عرف الاسم_الأول: نـص("محمد")؛
      عرف الوظيفة: نـص("مهندس")؛
      عرف حيثما: نـص = حيثما[الاسم == الاسم_الأول و (الوظيفة == الوظيفة أو الوظيفة == "محامي")]؛
      طـرفية.اطبع("%s\ج"، حيثما.صوان)؛
      // نتيجة التنفيذ: الاسم == 'محمد' و (الوظيفة == 'مهندس' أو الوظيفة == 'محامي')
  }
  اختبر()؛
</pre>
<pre class="samplecode" dir=ltr>
  import "Srl/Console";
  import "Srl/refs";
  import "Srl/System";
  import "Core/Data";
  import "Spp";

  use Srl;
  use Core.Basic;
  use Core.Data;
  use Core.Data.Ast;
  def TioSrdRef: alias SrdRef[Core.Basic.TiObject];

  func generateWhere (obj: ref[TiObject]): TioSrdRef {
      def result: TioSrdRef;
      if obj~ptr == 0 {
          System.fail(1, "generateWhere: obj is null.\n");
      }

      if isDerivedFrom[obj, ComparisonOperator] {
          def binding: ref[Binding](getInterface[obj, Binding]);
          def mapContaining: ref[MapContaining](getInterface[obj, MapContaining]);
          if !Spp.astMgr.buildAst(
              ast { String("{{name}}") + String(" {{op}} '") + val  + String("'") },
              Map[String, ref[TiObject]]()
                  .set(String("name"), mapContaining.getElement("first"))
                  .set(String("op"), binding.getMember("type"))
                  .set(String("val"), mapContaining.getElement("second")),
              result
          ) {
              System.fail(1, "generateWhere/ComparisonOperator: error\n");
          }
      } else if isDerivedFrom[obj, LogOperator] {
          def binding: ref[Binding](getInterface[obj, Binding]);
          def mapContaining: ref[MapContaining](getInterface[obj, MapContaining]);
          if !Spp.astMgr.buildAst(
              ast { (cond1) + String(" {{op}} ") + (cond2) },
              Map[String, ref[TiObject]]()
                  .set(String("cond1"), generateWhere(mapContaining.getElement("first")).obj)
                  .set(String("op"), binding.getMember("type"))
                  .set(String("cond2"), generateWhere(mapContaining.getElement("second")).obj),
              result
          ) {
              System.fail(1, "generateWhere/LogOperator: error\n");
          }
      } else if isDerivedFrom[obj, Bracket] {
          def mapContaining: ref[MapContaining](getInterface[obj, MapContaining]);
          if !Spp.astMgr.buildAst(
              ast { String("(") + (cond) + String(")") },
              Map[String, ref[TiObject]]()
                  .set(String("cond"), generateWhere(mapContaining.getElement("operand")).obj),
              result
          ) {
              System.fail(1, "generateWhere/Bracket: error\n");
          }
      } else {
          if !Spp.astMgr.buildAst(
              obj,
              Map[String, ref[TiObject]](),
              result
          ) {
              System.fail(1, "Failed to build condition.\n");
          }
      }
      return result;
  }

  macro where [condition] {
      preprocess {
          if !Spp.astMgr.insertAst(
              generateWhere(ast condition).obj
          ) {
              System.fail(1, "Failed to insert condition.\n");
          }
      }
  }

  func test {
      def firstName: String("Mohammed");
      def position: String("Engineer");
      def query: String = where[name == firstName && (pos == position || pos == "Lawyer")];
      Console.print("%s\n", query.buf);
      // Execution output: name == 'Mohammed' && (pos == 'Engineer' || pos == 'Lawyer')
  }
  test();
</pre>
                </div>
              </div>
        </div>
        <!--content-separator-->
        <footer class="footer">
            <hr>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-8 pull-left1">
                        <ul class="nav nav-pills.nav">
                            <li><strong>جميع الحقوق محفوظة لشركة الأسس للبرمجيات 2021م \ 1442هـ.</strong></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    <script src="Resources/highlight.pack.js"></script>
    <script src="Resources/index.js"></script>

</body>

</html>
